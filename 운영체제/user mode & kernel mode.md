---
Created: 2025-12-28T00:00:00.000Z
---
컴퓨터 시스템은 운영체제와 사용자 프로그램을 보호하고 적절한 자원 할당을 위해 **이중 모드(dual mode)** 동작을 지원합니다.
# User Mode
- 정의: 사용자 애플리케이션이 실행되는 일반적인 상태입니다.
- 권한: **하드웨어에 직접 접근할 수 없으며**, 실행할 수 있는 명령어가 제한적입니다.
- mode bit: 하드웨어 내의 mode bit가 **1**로 설정되어 현재 사용자 모드임을 나타냅니다.
- 보호 방식: 프로그램이 금지된 메모리에 접근하거나 특권 명령을 실행하려고 하면 하드웨어가 트랩(trap)을 방생시켜 운영체제가 개입합니다.
# Kernel Mode
- 정의: 운영체제의 핵심인 **커널**이 실행되는 상태입니다.
- 권한: 하드웨어의 모든 자원에 접근할 수 있으며, 모든 기계어 명령을 실행할 수 있습니다.
- mode bit: 하드웨어의 mode bit가 0으로 설정됩니다.
- 특권 명령: I/O 제어, 타이머 관리, 인터럽트 관리 등 시스템에 해를 끼칠 수 있는 명령어는 오직 커널 모에서만 실행 가능합니다.
# 모드 전환 메커니즘
사용자 프로그램이 운영체제의 서비스(e.g. 파일 읽기)를 필요로 할 때 모드 전환이 발생합니다.
1. user -> kernel: 애플리케이션이 **system call**을 하거나 하드웨어 **인터럽트** 또는 **트랩**이 발생하면 하드웨어가 **mode bit를 0으로 바꾸고 제어권을 운영체제에** 넘깁니다.
2. kernel -> user: 운영체제가 작업을 완료하면 제어권을 다시 사용자 프로그램으로 넘기기 전, **mode bit를 1로 바꾸어 권한을 회수**합니다.
# 확장된 모드 (Multimode)
현대 하드웨어는 더 세분화된 보호를 위해 두 가지 이상의 모드를 제공하기도 합니다.
- **가상화 지원**: CPU가 가상화를 지원하는 경우, 가상 머신 관리자(VMM)가 제어권을 가질 때 일반 사용자보다는 높고 커널보다는 낮은 별도의 모드를 사용합니다.
	- 인텔 CPU는 4개의 protection ring을, ARMv8은 7가지 모드를 지원합니다.