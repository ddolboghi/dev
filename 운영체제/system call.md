---
Created: 2025-12-28T00:00:00.000Z
---
시스템 호출은 사용자 프로그램이 운영체제의 보호된 자원이나 서비스에 접근할 때 발생합니다.
시스템 호출은 하드웨어와 소프트웨어의 협력을 통해 실행됩니다.
# 시스템 호출이 발생하는 요인
사용자 프로그램이 운영체제에 예약된 **특권 작업**을 수행해야 할 때 호출됩니다.
- **자원 요청**: I/O 장치 접근, 메모리 할당 및 해제
- **프로세스 제어**: 새로운 프로세스 생성(fork), 종료(exit), 실행 중인 프로세스 속성 제어
- **프로세스 간 통신**: 프로세스 간 메시지 전달 또는 공유 메모리 생성
# 시스템 호출의 동작 과정
시스템 호출은 보통 **소프트웨어 인터럽트(트랩)** 를 통해 다음과 같이 진행됩니다.
1. **API 호출**: 사용자 프로그램은 POSIX나 Windows API 같은 표준 인터페이스를 통해 함수를 호출합니다.
2. **트랩 발생**: syscall과 같은 특수 명령어를 실행하여 하드웨어 트랩을 발생시킵니다.
3. **모드 전환**: 하드웨어가 mode bit를 1에서 0으로 바꿉니다.
4. **서비스 실행**: 
	1. 시스템 호출 인터페이스는 호출과 함께 전달된 특정 번호를 확인합니다.
	2. 시스템 호출 인터페이스가 시스템 호출 테이블에서 요청 번호에 해당하는 커널 서비스 루틴의 주소를 찾습니다.
	3. 호출된 커널 루틴은 상세 데이터 파라미터들을 읽어 들여 유효성을 검증하고 작업을 수행합니다.
5. **복귀**: 작업이 끝나면 결과값을 반환하고, 다시 사용자 모드로 전환하여 다음 명령어를 실행합니다.
## 시스템 호출 과정에서 운영체제에 파라미터 전달
- user mode에서 kernel mode로 넘어가기 직전 혹은 그 전환 과정에서 발생합니다.
- 사용자 프로그램이 API를 호출하면, 실행 환경(RTE)이 커널과 약속된 장소에 필요한 파라미터 값들을 미배치합니다.
- kernel mode에 진입한 운영체제는 미리 준비된 장소에서 파라미터를 읽어 들여 요청된 서비스를 수행합니다.
### 파라미터 전달 장소
- **레지스터**: 파라미터를 CPU 레지스터에 직접 담아 전달합니다.
- **메모리 블록 또는 테이블**: 파라미터의 개수가 레지스터보다 많을 때 주로 사용합니다. 파라미터들을 메모리 블록이나 테이블에 저장하고, 해당 블록의 시작 주소를 레지스터에 담아 전달합니다.
- **스택**: 프로그램이 파라키터들을 스택에 넣고, 운영체제가 이를 스택에서 꺼내 사용합니다.