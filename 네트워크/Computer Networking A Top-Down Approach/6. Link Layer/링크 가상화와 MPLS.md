# 가상화된 링크
- 호스트 입장에서, 링크는 단순히 자신과 다른 호스트를 연결하는 링크 계층 채널로 보인다.
- 링크가 전화망이든, 스위치 LAN이든, VLAN이든 호스트는 다 같은 링크로 보인다.
# MPLS(Multiprotocol Label Switching)
## 목적과 역할
- IP 라우팅의 속도 개선
- 트래픽 엔지니어링 기능 제공
- 목적지 기반의 IP 라우팅을 대체하는 것이 아니라 보강하기 위한 기술이다.
- 선택적으로 데이터그램에 레이블을 지정하고 라우터가 목적지 IP 주소 대신 고정 길이 레이블을 기반으로 데이터그램을 전달할 수 있도록 한다.
- IP 주소 지정 및 라우팅을 사용하여 IP와 함께 작동한다.
## 프레임 형태
- 링크 계층 프레임에 MPLS 헤더가 추가된다.
- 이더넷 헤더와 IP 헤더 사이에 MPLS 헤더가 위치하며, label, Exp, S, TTL 필드가 포함된다.
## MPLS 라우터(lable-switched router)의 동작
- MPLS 확장 프레임은 오직 MPLS 라우터 간에만 전송될 수 있다.
- MPLS 프레임의 **label을 포워딩 테이블에서 조회한 후 적절한 출력 인터페이스로 즉시 데이터그램을 전달**한다.
- MPLS 라우터는 목적지 IP 주소를 추출하거나 포워딩 테이블에서 최장 prefix match를 수행할 필요없다.
- MPLS 라우터끼리 어느 MPLS 레이블을 통해 어떤 목적지로 스위칭할 수 있는지 알려준다. 이때 스위치 LAN이나 ATM 네트워크처럼, 패킷의 IP 헤더를 전혀 건드리지 않는다.
## 사용
- **트래픽 엔지니어링**
	- IP 라우팅 프로토콜로는 불가능한 경로가 MPLS에서는 가능하다.
	- 일반적인 IP 라우팅을 무시하고, MPLS를 이용하여 트래픽을 조정할 수 있다.
- 링크 오류 시 빠른 복구
- **VPN(가상 사설망) 구현**
	- ISP는 VPN을 구현할 때 MPLS 활성 네트워크를 사용하여 고객의 다양한 네트워크를 연결한다.

> [!NOTE]
    > MPLS는 SDN이 개발되기 전에 나왔으며, MPLS의 트래픽 엔지니어링 기능 중 다수는 SDN과 일반화된 포워딩 패러다임으로도 가능하다.
