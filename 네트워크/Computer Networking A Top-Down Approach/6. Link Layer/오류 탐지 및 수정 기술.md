# 기본 원리
- 송신 노드에서는 데이터에 오류 탐지 및 수정 비트가 추가되고 프레임에 담겨 전송된다.
- 수신 노드에서는 프레임을 수신한다.
- 링크를 통해 전달되는 데이터와 이 비트는 전송 중 비트 뒤집힘으로 인해 달라질 수 있다.
- 수신자는 오류가 발생했는지가 아니라, **오류가 탐지되었는지**를 결정한다.
- 항상 비트 오류를 탐지할 수 있는 건 아니고 탐지되지 않은 비트 오류가 있을 수 있다.
- 일반적으로 오류 탐지 및 수정 기술이 정교해질수록 오버헤드가 커진다.
# Parity 검사
## single parity bit
![[1bit_even_parity.png]]
- 송신자는 d 비트의 데이터에 parity 비트로 1비트를 추가한다. 
	- 짝수 parity 방식에서는 d+1 비트 중 1의 개수가  짝수가 되도록 parity 비트를 0 또는 1로 설정한다.
	- 홀수 parity 방식에서는 d+1 비트 중 1의 개수가  홀수가 되도록 parity 비트를 0 또는 1로 설정한다.
- 수신자는 d+1 비트에서 1의 개수를 센다.
	- 짝수 parity 방식에서 1의 개수가 홀수라면 홀수 개의 비트 오류가 발생한 것이다. 하지만 짝수 개의 비트 오류는 탐지하지 못한다.
- 대부분의 경우 비트 오류는 군집 형태로 발생하므로 single patiry bit 방식은 미탐지 오류 확률이 50%에 육발할 수 있다.
## 2차원 parity
- 비트들을 i x j 행렬로 배열하고 각 행과 열에 대해 parity 비트를 계산한다.
- 계산 결과로 나오는 i + j + 1개의 parity 비트가 오류 탐지 비트를 구성한다.
- 이 방식은 단일 비트 오류가 발생했을때, 오류가 발생한 행과 열을 특정하여 오류를 탐지하고, 수정까지 할 수 있다.
- 패킷 내 두 비트의 조합 오류도 탐지할 수 있지만 수정을 불가능하다.
- 수신자가 오류를 탐지하고 수정할 수 있는 능력을 **순방향 오류 수정(Forward Error Correction, FEC)** 이라고 한다.
	- FEC는 오디오 저장 및 재생 장치에서 많이 사용된다.
	- 네트워크 환경에서는 링크 계층 ARQ 기술과 함께 또는 단독으로 사용할 수 있다.
	- FEC를 이용하면 수신 측에서 즉각적으로 오류를 수정하여 패킷 재전송 횟수를 줄이게 되므로 왕복 전파 지연을 줄일 수 있다.
# 체크섬(checksum) 방법
- 체크섬은 데이터를 k비트 정수의 시퀀스로 간주하고, 이 정수들을 합산한 결과를 오류 탐지 비트로 사용한다.
- 인터넷 체크섬이 이 방식을 사용한다.
	- 데이터 바이트들을 16비트 정수로 취급하여 합산한다.
	- 세그먼트 헤더에 합산 결과의 1의 보수를 넣는다.
	- 수신자는 수신된 데이터의 합의 1의 보수에 1인 비트가 하나라도 있으면 오류로 간주한다.
- TCP, UDP 프로토콜에서는 인터넷 체크섬이 모든 필드에 대해 계산된다.
- IP에서는 TCP, UDP 세그먼트가 자체 체크섬을 가지므로, IP 헤더에 대해서만 체크섬을 계산한다.
- 전송 계층에서는 체크섬이 소프트웨어로 구현되기 때문에 간단하고 빠른 