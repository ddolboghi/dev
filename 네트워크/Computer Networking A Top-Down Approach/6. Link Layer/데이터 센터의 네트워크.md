# 데이터 센터 아키텍처
- 대규모 데이터 센터 비용의 상당 부분은 호스트 장비, 전력 및 냉각 인프라, 전력 비용, 네트워킹 장비가 차지한다.
- 호스트는 **블레이드(blade)** 라고 불리며, CPU, 메모리, 디스크 스토리지를 포함하는 하드웨어로 구성된다.
- 호스트들은 랙(rack)에 쌓이며 랙 상단에 있는 **TOR(Top of Rack) 스위치**가 호스트들을 연결하고 다른 스위치들과 연결한다.
- 데이터 센터 네트워크는 **경계 라우터(border router)를 통해 인터넷과 연결**된다.
- 데이터 센터 내부 네트워크는 랙들을 서로 연결하고 경계 라우터와 연결한다.
## 로드 밸런싱
- 데이터 센터 내부로 들어온 요청은 먼저 로드 밸런서로 전달된다.
- 로드 밸런서는 현재 부하 상태에 따라 요청을 호스트들에게 분산시킨다.
- 로드 밸런서는 목적지 포트 번호뿐만 아니라 **목적지 IP 주소**를 기반으로 결정을 내리기 때문에 layer-4 스위치라고도 불린다.
- 로드 밸런서는 **외부의 공개 IP 주소를 내부 호스트의 사설 IP 주소로 변환**하는 NAT과 유사한 기능을 제공하여 내부 네트워크 구조를 숨기고 보안을 강화한다.
## 계층적 아키텍처
![[data_center_network_hierarchical_topology.png]]
- 수십만 개의 호스트로 확장하려면 라우터와 스위치의 계층 구조가 필수다.
- 가용성을 높이기 위해 중복 네트워크 장비와 링크를 포함한다.