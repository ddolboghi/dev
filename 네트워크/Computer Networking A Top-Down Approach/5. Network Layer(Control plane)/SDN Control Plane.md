SDN(소프트웨어 정의 네트워킹) 컨트롤 플레인은 네트워크의 SDN 지원 장치 간의 패킷 전달을 제어하고, 이들 장치와 서비스의 구성 및 관리를 담당하는 네트워크 전반의 로직이다.

SDN에서 네트워크의 전달 장치를 "패킷 스위치"라고 칭한다. 이는 포워딩이 네트워크 계층 주소, 링크 계층 주소 및 여러 계층의 헤더 필드 값을 기반으로 이루어질 수 있기 때문이다.

SDN은 단순히 애플리케이션 로직을 수정하는 것만으로 원하는 모든 형태의 전달(forwarding)을 구현할 수 있다.
# SDN의 4가지 주요 특성
### 흐름 기반 전달 (Flow-based forwarding)
- 대상 IP 주소뿐만 아니라 다양한 헤더 필드 값을 기반으로 복잡한 match plus action 규칙을 허용하여 패킷을 전달 할 수 있다. 
- 이는 OpenFlow 1.0 추상화와 일치한다.
- 스위치의 플로우 테이블에 전달 규칙이 명시되며, SDN 컨트롤 플레인이 이 플로우 테이블 항목을 계산, 관리, 설치한다.
### 데이터 플레인과 컨트롤 플레인의 분리
- 데이터 플레인은 네트워크 스위치(비교적 단순하지만 빠른 장치)로 구성되며, 컨트롤 플레인은 스위치의 플로우 테이블을 결정하고 관리하는 서버와 소프트웨어로 구성된다.
### 네트워크 제어 기능의 외부화
- SDN 컨트롤 플레인은 **소프트웨어로 구현**된다.
- 네트워크 제어 기능(컨트롤 플레인)은 스위치 외부의 별도 서버에서 실행되는 **SDN 컨트롤러**와 **SDN 네트워크 제어 애플리케이션**으로 구성된다.
- 컨트롤러는 네트워크 상태 정보(링크, 스위치, 호스트 상태)를 정확하게 유지하고, 이 정보를 컨트롤 플레인에서 실행되는 네트워크 제어 애플리케이션에 제공하며, 애플리케이션이 네트워크 장치를 모니터링, 프로그래밍, 제어할 수 있는 수단을 제공한다.
- 컨트롤러는 논리적으로만 중앙 집중화되어 있으며, 일반적으로 성능 확장성과 고가용성을 위해 **여러 서버에 분산 구현**된다.(e.g. OpenDaylight, ONOS)
### 프로그래밍 가능한 네트워크
- 네트워크는 컨트롤 플레인에서 실행되는 애플리케이션들을 통해 프로그래밍 가능하다.
- 애플리케이션들은 SDN 컨트롤러의 "두뇌" 역할을 하며, 컨트롤러가 제공하는 API를 사용하여 네트워크 장치의 데이터 플레인을 명시하고 제어한다.
- 예를 들어, 라우팅 애플리케이션은 컨트롤러가 유지하는 노드 및 링크 상태 정보를 사용하여 다익스트라 알고리즘을 실행함으로써 종단 간 경로를 결정할 수 있다. 다른 애플리케이션은 접근 제어(방화벽)나 서버 부하 분산을 수행할 수 있다.
# SDN 컨트롤러의 3계층 기능
### 통신 계층
- SDN 컨트롤러와 제어 대상 네트워크 장치 간의 통신을 담당한다.
- 통신에 사용되는 프로토콜은 컨트롤러의 **southbound** 인터페이스(API)를 통과한다.
- OpenFlow는 이 통신 기능을 제공하는 프로토콜이다.
### 네트워크 전반의 상태 관리 계층
- SDN 컨트롤 플레인의 제어 결정을 위해 컨트롤러가 네트워크 호스트, 링크, 스위치 및 기타 장치들의 최신 상태 정보를 데이터베이스로 유지한다.
- 스위치의 플로우 테이블 카운터 값 등을 애플리케이션에 제공하며, 컨트롤러는 제어 대상 장치들의 플로우 테이블 사본을 유지할 수도 있다. 이러한 정보 조각들이 SDN 컨트롤러가 유지하는 네트워크 전반의 "상태"를 구성한다.
### 네트워크 제어 애플리케이션 인터페이스 계층
- 컨트롤러는 **northbound** 인터페이스(API)를 통해 네트워크 제어 애플리케이션과 상호작용한다. 
- northbound API는 네트워크 제어 애플리케이션이 상태 관리 계층 내의 네트워크 상태와 플로우 테이블을 읽고 쓸 수 있게 한다.
- 애플리케이션은 상태 변경 이벤트 발생 시 알림을 받아 이에 대응하는 조치를 취한다.
