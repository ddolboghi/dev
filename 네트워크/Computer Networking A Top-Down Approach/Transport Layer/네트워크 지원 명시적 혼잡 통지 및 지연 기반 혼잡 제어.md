# 명시적 혼잡 통지(Explicit Congestion Notification, ECN)
- ECN은 네트워크 지원 혼잡 제어의 한 형태로, IP와 TCP가 모두 관여한다.
- 라우터가 혼잡을 명시적으로 발신지와 수신지에 알릴 수 있게 한다.
- TCP뿐만 아니라 DCCP, DCTCP, DCQCN 등 다른 전송 계층 프로토콜에서도 활용된다.
## 동작 방식
### 라우터
- 혼잡을 겪는 라우터는 **IP 데이터크램 헤더의 서비스 유형(Type of Service) 필드**에 있는 ECN 비트 2개를 사용하여 혼잡 상태임을 표시한다.
- ECN 비트는 패킷 손실이 발생하기 전에 혼잡의 시작을 알리는 역할을 한다.
### 수신지
- ECN 표시가 된 데이터그램을 수신한다.
- 발신지로 보내는 TCP ACK 세그먼트 헤더에 **ECE**(Explicit Congestion Notification Echo) 비트를 설정하여 혼잡 사실을 알린다.
### 발신지
- 혼잡이 표신된 ACK를 수신한다.
- 손실이 발생한 것처럼 혼잡 윈도우를 절반으로 줄인다.
- 수신지로 보내는 다음 TCP 세그먼트 헤더에 **CWR**(Congestion Window Reduced) 비트를 설정하여 조치를 취했음을 알린다.

# 지연 기반 혼잡 제어(Delay-based Congestion Control)
- 측정된 패킷 지연을 기반으로, 패킷 손실이 발생하기 전에 혼잡의 시작을 사전에 감지한다.
- RTT 증가를 감지하여 혼잡을 추론하고 전송률을 조절하는 종단 간 방식이다.
- "파이프를 꽉 채우되, 더 채우지는 말라"는 원칙을 따른다.
  > "Keep the pipe just full, but no fuller"
## TCP Vegas:
- 발신지는 모든 확인응답된 패킷의 RTT를 측정한다.
- $RTT_{min}$은 경로가 혼잡하지 않고 패킷이 최소한의 큐잉 지연을 겪을 때, 송신자 측에서 측정된 최소 RTT 값으로 정의한다.
- 이상적인 처리율은 `cwnd/RTTmin`이다.
- 실제 처리율이 이상적인 값에 가까우면 TCP 전송률을 높인다.
- 실제 처리율이 이상적인 값보다 현저히 낮으면, 전송률을 낮춘다.
## BBR(Bottleneck Bandwidth and Round-trip propagation time) 혼잡제어
- TCP Veags의 아이디어를 기반으로 하며, non-BBR 발신지들과 공정하게 경쟁할 수 있는 메커니즘을 포함한다.
## 기타 지연 기반 프로토콜
- 데이터센터 네트워크를 위한 TIMELY
- 고속 및 장거리 네트워크를 위한 Compound TCP(CTPC), FAST