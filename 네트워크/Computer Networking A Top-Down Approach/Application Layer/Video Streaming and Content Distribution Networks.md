# Internet Video
스트리밍 저장 비디오 애플리케이션에서 사용자들은 서버에 요청을 보내 서버에 저장된 비디오를 시청한다.

비디오는 일반적으로 초당 24 또는 30개의 이미지를 일정한 속도로 표시하는 이미지 시퀀스이다. 압축되지 않은 디지털 인코딩 이미지는 픽셀 배열로 구성되며, 각 픽셀은 휘도와 색상을 나타내기 위해 여러 비트로 인코딩된다.
비디오의 중요한 특징은 **압축이 가능하다**는 것이다. 오늘날의 압축 알고리즘은 비디오를 원하는 거의 모든 비트 전송률로 압축할 수 있으며, 비트 전송률이 높을수록 이미지 품질과 사용자 시청 경험이 향상된다.

네트워킹 관점에서 비디오의 가장 두드러진 특징은 높은 비트 전송률이다. 압축된 인터넷 비디오는 저화질의 경우 100kbps에서 고화질 영화 스트리밍의 경우 4Mbps 이상까지 다양하다. 이는 특히 고품질 비디오의 경우 막대한 양의 트래픽과 저장 공간을 의미할 수 있다. 
스트리밍 비디오의 가장 중요한 성능 척도는 **평균 종단 간 처리율**이다. 지속적인 재생을 제공하기 위해 네트워크는 스트리밍 애플리케이션에 압축된 비디오의 비트 전송률 이상의 평균 처리율을 제공해야 한다.

압축을 사용하여 동일한 비디오의 여러 버전을 각각 다른 품질 수준으로 만들 수도 있다. 예를 들어, 300kbps, 1Mbps, 3Mbps의 세 가지 버전으로 만들면 사용자는 현재 사용 가능한 대역폭에 따라 시청할 버전을 선택할 수 있다.

# HTTP Streaming and DASH

**HTTP 스트리밍**에서는 비디오가 특정 URL을 가진 일반 파일로 HTTP 서버에 저장된다. 
1. 사용자가 비디오를 보려고 하면, 클라이언트는 서버와 TCP 연결을 설정하고 해당 URL에 대한 HTTP GET 요청을 보낸다. 
2. 서버는 기본 네트워크 프로토콜과 트래픽 조건이 허용하는 한 최대한 빨리 HTTP 응답 메시지 내에 비디오 파일을 보낸다. 
3. 클라이언트 측에서는 바이트가 클라이언트 애플리케이션 버퍼에 수집된다. 
4. 이 버퍼의 바이트 수가 미리 정해진 임계값을 초과하면, 클라이언트 애플리케이션은 재생을 시작한다.

이러한 HTTP 스트리밍은 널리 사용되었지만, 클라이언트의 대역폭이 다양함에도 불구하고 **모든 클라이언트가 동일한 인코딩의 비디오를 받는다**는 큰 단점이 있다. 이로 인해 **DASH(Dynamic Adaptive Streaming over HTTP)** 라는 새로운 유형의 HTTP 기반 스트리밍이 개발되었다.

DASH에서는 **비디오가 여러 다른 버전으로 인코딩**되며, 각 버전은 다른 비트 전송률과 그에 상응하는 다른 품질 수준을 가진다. 클라이언트는 몇 초 길이의 비디오 세그먼트 청크를 동적으로 요청한다. 사용 가능한 대역폭이 높을 때는 클라이언트가 자연스럽게 높은 전송률 버전의 청크를 선택하고, 대역폭이 낮을 때는 낮은 전송률 버전의 청크를 선택한다. 클라이언트는 각 청크에 대해 HTTP GET 요청 메시지로 URL과 바이트 범위를 지정하여 한 번에 하나씩 청크를 선택한다.

DASH는 서로 다른 인터넷 접속 속도를 가진 클라이언트가 다른 인코딩 속도로 비디오를 스트리밍할 수 있게 한다. 또한, 세션 중에 사용 가능한 종단 간 대역폭이 변경되면 클라이언트가 이에 적응할 수 있게 해준다.

DASH를 사용하면 각 비디오 버전이 다른 URL로 HTTP 서버에 저장된다. HTTP 서버에는 각 버전의 URL과 비트 전송률을 제공하는 **매니페스트 파일**도 있다. 클라이언트는 먼저 매니페스트 파일을 요청하여 다양한 버전에 대해 알게 된다. 그런 다음, 각 청크에 대해 HTTP GET 요청 메시지에 URL과 바이트 범위를 지정하여 한 번에 하나의 청크를 선택한다. 청크를 다운로드하는 동안 클라이언트는 수신된 대역폭을 측정하고, 다음에 요청할 청크를 선택하기 위해 속도 결정 알고리즘을 실행한다.