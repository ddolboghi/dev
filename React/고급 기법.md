> [!ë¦°í„°ë¥¼ ë¬´ì‹œí•˜ì§€ ë§ê³  ì½”ë“œë¥¼ ìˆ˜ì •í•  ê²ƒ] 
> ë¦°í„°ì— ì˜í•´ í‘œì‹œëœ ëª¨ë“  ì˜¤ë¥˜ëŠ” ì •ë‹¹í•˜ë‹¤. ë¦°í„° ì˜¤ë¥˜ë¥¼ ì»´íŒŒì¼ ì˜¤ë¥˜ë¡œ ì·¨ê¸‰í•´ë¼.

> [!warning] useCallback, useMemo, React.memo ì‚¬ìš© ì£¼ì˜ 
> ì‹¤ì œë¡œ ì»´í¬ë„ŒíŠ¸ ì„±ëŠ¥ ê°œì„ í•  ìˆ˜ ìˆì„ë•Œë§Œ ì‚¬ìš©í•´ë¼. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë¶ˆí•„ìš”í•˜ê²Œ propsë¥¼ ë¹„êµí•œë‹¤.

> [!tip] ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ì‹œì 
> - propsë‚˜ ë‚´ë¶€ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ëì„ ë•Œ
> - ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì°¸ì¡°í•˜ëŠ” Context ê°’ì´ ì—…ë°ì´íŠ¸ëì„ë•Œ
> - ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€  ë¦¬ë Œë”ë§ ì‹œ ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” ë¬´ì¡°ê±´ ë¦¬ë Œë”ë§ --> ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ë¦¬ë Œë”ë§ ì „íŒŒ ë§‰ì„ ìˆ˜ ìˆìŒ
# React.memo
- ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ì´ í•„ìš”í• ë•Œë§Œ í•˜ë„ë¡ ë©”ëª¨ì´ì œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì¤Œ
- ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ë¥¼ `React.memo`ë¡œ ê°ì‹¸ê¸°ë§Œ í•˜ë©´ ë¨
- **ë Œë”ë§ ìµœì í™”í•˜ì§€ ì•Šì„ ì»´í¬ë„ŒíŠ¸ì— ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•˜ê²Œ propsë§Œ ë¹„êµí•¨**
- **ë©”ëª¨ì´ì œì´ì…˜ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ë„ porpsë‚˜ contextê°’ì´ ë°”ë€Œì§€ ì•ŠëŠ” í•œ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ**
- ë©”ëª¨ì´ì œì´ì…˜ ì»´í¬ë„ŒíŠ¸ì— **ë°°ì—´, ê°ì²´, í•¨ìˆ˜ë¥¼ ì „ë‹¬**í•˜ë©´, ìƒìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë ë•Œ ê°™ì´ **ë¦¬ë Œë”ë§ë¨**
```jsx
function UserList(...) {
	...
};
export default React.memo(UserList);
//ë˜ëŠ”
const User = React.memo(function User(...){
	...
});
```
# useCallback
- **í•¨ìˆ˜**ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ëŠ” í›… 
- í•¨ìˆ˜ ì•ˆì˜ state, propsëŠ” ë°˜ë“œì‹œ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•´ì•¼ ì´ ê°’ë“¤ì´ ë³€ê²½ë˜ì—ˆì„ë•Œ í•¨ìˆ˜ê°€ ë³€ê²½ëœ ê°’ì„ ë°˜ì˜í•¨
- ì˜ì¡´ì„± ë°°ì—´ì´ ë¹ˆ ë°°ì—´ì´ë©´ ìµœì´ˆ ë Œë”ë§ ì‹œì—ë§Œ í•¨ìˆ˜ê°€ ìƒì„±ë˜ê³  ì´í›„ ì¬ìƒì„±ë˜ì§€ ì•ŠìŒ
- ë©”ëª¨ì´ì œì´ì…˜ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜(memo ì‚¬ìš©í•œ í•¨ìˆ˜)ì— ì‚¬ìš©í•˜ë©´ ë” ì¢‹ìŒ
- ìƒíƒœ setterì— íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´(e.g.
`setNumber(prevNumber => prevNumber + 1);`) ì½œë°±í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ëŠ” ìµœì‹  ìƒíƒœê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆì–´ ì˜ì¡´ì„± ë°°ì—´ì— ìƒíƒœ ì¶”ê°€ ì•ˆí•´ë„ë¨
```tsx
'use client'
import React, { memo, useState, useCallback } from 'react'
  
type FizzProps = {
Â  isFizz: boolean
}
  
const Fizz = (props: FizzProps) => {
Â  const { isFizz } = props
Â  console.log('Fizz rerendering')
Â  return <span>{isFizz ? 'Fizz' : ''}</span>
}
  
type BuzzProps = {
Â  isBuzz: boolean
Â  onClick: () => void
}
  
const Buzz = memo<BuzzProps>((props) => {
Â  const { isBuzz, onClick } = props
Â  console.log('Buzz rerendering')
Â  return <span onClick={onClick}>{isBuzz ? 'Buzz' : ''}</span>
})

Buzz.displayName = 'Buzz'

const Parent = () => {
Â  const [count, setCount] = useState(1)
Â  const isFizz = count % 3 === 0
Â  const isBuzz = count % 5 === 0
  
Â  const onBuzzClick = useCallback(() => {
Â  Â  console.log('Buzz clicked')
Â  }, [])
  
Â  console.log('Parent rerendering')
Â  return (
Â  Â  <div>
Â  Â  Â  <button nClick={() => setCount((c) => c + 1)}>+1</button>
Â  Â  Â  <p>{count}</p>
Â  Â  Â  <p>
Â  Â  Â  Â  <Fizz isFizz={isFizz} />
Â  Â  Â  Â  <Buzz isBuzz={isBuzz} onClick={onBuzzClick} />
Â  Â  Â  </p>
Â  Â  </div>
Â  )
}
  
export default Parent
```

![[useCallback-rendering.png]]
 `<Parent />`ê°€ ë¦¬ë Œë”ë§ë ë•Œ `<Fizz />`ë„ ë§¤ë²ˆ ë¦¬ë Œë”ë§ë˜ì§€ë§Œ,  `<Buzz />`ëŠ” `memo`ë¡œ ë©”ëª¨ì´ì œì´ì…˜ ì»´í¬ë„ŒíŠ¸ê°€ ë˜ì—ˆê³ , ì „ë‹¬ë°›ëŠ” í•¨ìˆ˜ `onBuzzClick`ë„ `useCallback`ìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ë¦¬ë Œë”ë§ì„ ì „íŒŒë°›ì§€ ì•ŠìŒ
# useMemo
- **ê°’**ì„ ë©”ëª¨ì´ì œì´ì…˜í•˜ëŠ” í›…
- ___@param___ - `function`: ê°’ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
- ___@param___ - `dependency array`: ì˜ì¡´í•˜ëŠ” ê°’ì´ ë“  ë°°ì—´
- ì˜ì¡´ ë°°ì—´ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì´ì „ ê°’ê³¼ ë¹„êµí•´ 
	- ë‹¤ë¥´ë©´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë©”ëª¨ì— ì €ì¥
	- ëª¨ë“  ê°’ì´ ì´ì „ê³¼ ê°™ìœ¼ë©´ í•¨ìˆ˜ ì‹¤í–‰ ì•ˆí•˜ê³  ë©”ëª¨ëœ ê°’ ë°˜í™˜
```tsx
'use client'

import React, { useMemo, useState } from 'react'

  

const UseMemoSample = () => {
Â  const [text, setText] = useState('')
  
Â  const [items, setItems] = useState<string[]>([])
  
Â  const onChangeInput = (e: React.ChangeEvent<HTMLInputElement>) => {
Â  Â  setText(e.target.value)
Â  }
  
Â  const onClickButton = () => {
Â  Â  setItems((prevItems) => {
Â  Â   return [...prevItems, text]
Â  Â  })
Â  Â  setText('')
Â  }

Â  const numberOfcharacters1 = items.reduce((sub, item) => sub + item.length, 0)
Â  if (numberOfcharacters1) console.log('1 active')

Â  const numberOfCharacters2 = useMemo(() => {
Â  Â  console.log('2 active')
Â  Â  return items.reduce((sub, item) => sub + item.length, 0)
Â  }, [items])
  
Â  return (
Â  Â  <div>
Â  Â  Â  <div>
Â  Â  Â  Â  <input value={text} onChange={onChangeInput} />
Â  Â  Â   <button onClick={onClickButton}>add</button>
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â Â  Â  {items.map((item, idx) => (
Â  Â Â  Â  Â  <p key={idx}>{item}</p>
Â  Â  Â  Â  ))}
Â  Â  Â  </div>
Â  Â  Â  <div>
Â  Â  Â  Â  <p>{numberOfcharacters1}</p>
Â  Â  Â  Â  <p
Â  Â  Â  Â  {numberOfCharacters2}</p>
Â  Â  Â  </div>
Â  Â  </div>
Â  )
}
  
export default UseMemoSample
```

![[useMemo-rendering.png]]

# `useRef`
- ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì¡°íšŒ ë° ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ê°€  ìˆì§€ë§Œ í•´ë‹¹ ì •ë³´ë¡œ ì¸í•´ ìƒˆë¡œìš´ ë Œë”ë§ì„ ë°œìƒì‹œí‚¤ê³  ì‹¶ì§€ëŠ” ì•Šì„ë•Œ(`setTimeout`, `setInterval`ì„ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ id, ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤)
- íŠ¹ì • DOMì„ ì„ íƒí•´ì•¼ í• ë•Œ(scrollì˜ ìœ„ì¹˜ ë“±)
- JSXë¥¼ ê³„ì‚°í•˜ëŠ”ë° í•„ìš”í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì €ì¥í• ë•Œ
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ `useRef()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ref ì„¤ì •
- `ref.current`: ref ì†ì„±ì˜ í˜„ì¬ ê°’
- refëŠ” ëª¨ë“  ìœ í˜•ì˜ ê°’ì„ **ì°¸ì¡°**í•  ìˆ˜ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ **ê°ì²´**ì„
- ë°ì´í„°ê°€ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¶€ë¶„ì—ì„œë§Œ í•„ìš”í•˜ë©° ë³€ê²½ë˜ì–´ë„ ì¬ë Œë”ë§ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” refë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŒ
- refëŠ” ê°ì²´ì§€í–¥í”„ë¡œê·¸ë˜ë°ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì™€ ë¹„ìŠ·í•˜ê²Œ ìƒê°í•˜ë©´ ë¨
  `this.something`ëŒ€ì‹  `somethingRef.current`ë¡œ ì‘ì„±í•¨
- ë¦¬ì•¡íŠ¸ëŠ” ì»¤ë°‹ ì¤‘ì— `ref.current`ë¥¼ ì„¤ì •í•¨
- ë³´í†µ refëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë¡œì§ ë‚´ë¶€ì—ì„œ ì ‘ê·¼í•´ DOM ìš”ì†Œë¥¼ ì œì–´í•¨
([ë§¨ ë°‘ì˜ ë¬¸ì œ í’€ê¸°](https://react.dev/learn/referencing-values-with-refs))
```jsx
import { useRef } from 'react'; //useRef í›… ì„í¬íŠ¸

export default function myComponent() {
	const ref = useRef(0); // useRef(ì´ˆê¸°ê°’)
}
```

| ref                                                            | state                                                                            |
| -------------------------------------------------------------- | -------------------------------------------------------------------------------- |
| `useRef(ì´ˆê¸°ê°’)`ëŠ” `{current: ì´ˆê¸°ê°’}`ë°˜í™˜                     | `useState(ì´ˆê¸°ê°’)`ì€ ìƒíƒœ ë³€ìˆ˜ì˜ í˜„ì¬ê°’ê³¼ ìƒíƒœ ì„¤ì •í•¨ìˆ˜(`[value, setValue]`)ë°˜í™˜ |
| ë³€ê²½ì‹œ ì¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•ŠìŒ                                | ë³€ê²½ì‹œ ì¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•¨                                                         |
| **ê°€ë³€** --> ë Œë”ë§ í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ì—ì„œ `current`ì˜ ê°’ ìˆ˜ì • ê°€ëŠ¥ | **ë¶ˆë³€** --> ìƒíƒœë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ setterë¥¼ ì‚¬ìš©í•´ì•¼í•˜ê³ , ì¬ë Œë”ë§ì„ ì˜ˆì•½í•´ì•¼í•¨  |
| ë Œë”ë§ ì¤‘ì—ëŠ” `current`ê°’ì„ ì½ê±°ë‚˜ ì“°ì§€ ë§ì•„ì•¼í•¨               | ì–¸ì œë“ ì§€ ìƒíƒœ ê°’ì„ ì½ì„ ìˆ˜ ìˆì§€ë§Œ ê° ë Œë”ë§ì—ëŠ” ìƒíƒœì˜ ìŠ¤ëƒ…ìƒ·ì´ ìˆê³ , ë³€ê²½ë˜ì§€ ì•ŠìŒ                                                                                 |

## ref ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­
- refë¥¼ íƒˆì¶œêµ¬ë¡œ ì·¨ê¸‰í•˜ê¸°: ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ê³¼ ë°ì´í„° íë¦„ì˜ ëŒ€ë¶€ë¶„ì´ refì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡í•˜ê¸°
- ë Œë”ë§ ì¤‘ì— `ref.current`ë¥¼ ì½ê±°ë‚˜ ì“°ê¸° ë§ê¸°: ë¦¬ì•¡íŠ¸ëŠ” `ref.current`ê°€ ì–¸ì œ ë³€ê²½ë˜ëŠ”ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë Œë”ë§ ì¤‘ì— ì½ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê²Œ ë§Œë“¬
  ë Œë”ë§ ì¤‘ì— í•„ìš”í•œ ì •ë³´ê°€ ìˆìœ¼ë©´ state ì‚¬ìš©í•˜ê¸°
  ë‹¨, `ref.current = new Thing()`ì²˜ëŸ¼ ì²« ë²ˆì§¸ ë Œë”ë§ ì¤‘ì— refë¥¼ í•œë²ˆë§Œ ì„¤ì •í•˜ëŠ” ê²½ìš°ëŠ” ì˜ˆì™¸
- ë¦¬ì•¡íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ”(stateìœ¼ë¡œ ë Œë”ë§ë˜ëŠ” ë“±) DOM ë…¸ë“œë¥¼ ë³€ê²½í•˜ì§€ ë§ê¸°(refë¡œ DOMì„ ì§ì ‘ ìˆ˜ì •í•˜ê±°ë‚˜ ìì‹ ìš”ì†Œë¥¼ ì¶”ê°€ ë˜ëŠ” ì œê±°í•˜ë©´ ì¶©ëŒí•  ìˆ˜ ìˆìŒ)
- ë¦¬ì•¡íŠ¸ê°€ ê´€ë¦¬í•˜ëŠ” DOM ë…¸ë“œì—ì„œ ì—…ë°ì´íŠ¸í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ë§Œ refë¡œ ìˆ˜ì •í•˜ë©´ ì•ˆì „í•¨
## refë¥¼ ì‚¬ìš©í•œ DOM ì¡°ì‘
- DOM ìš”ì†Œì— ì´ˆì ì„ ë§ì¶”ê±°ë‚˜, ìŠ¤í¬ë¡¤í•˜ê±°ë‚˜, í¬ê¸°ì™€ ìœ„ì¹˜ë¥¼ ì¸¡ì •í•´ì•¼ í• ë•Œ
- JSX ìš”ì†Œì˜ `ref`ì†ì„±ì— `useRef`ë¡œ ì„¤ì •í•œ ref ê°ì²´ë¥¼ ì „ë‹¬í•˜ë©´ ë¦¬ì•¡íŠ¸ê°€ í•´ë‹¹í•˜ëŠ” DOM ìš”ì†Œë¥¼ `myRef.current`ì— ë„£ì–´ ë‚´ì¥ ë¸Œë¼ìš°ì € APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ([refë¥¼ ì‚¬ìš©í•œ DOM ì¡°ì‘ ë¬¸ì œ í’€ê¸°](https://react.dev/learn/manipulating-the-dom-with-refs))
```jsx
import { useRef } from 'react';

export default function Form() {
	const inputRef = useRef(null);

	const handleClick = () => {
		inputRef.current.focus(); //ë‚´ì¥ ë¸Œë¼ìš°ì € APIì¸ focus() ì‚¬ìš©
	};

	return (
		<>
			<input ref={inputRef} />
			<button onClick={handleClick}>Focus the input</button>
		</>
	);
}
```
### ref ì½œë°±
- `ref`ì½œë°±ì€ JSX ìš”ì†Œì˜ `ref` ì†ì„±ì—ì„œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ
- `ref`ì½œë°±ìœ¼ë¡œ ref ëª©ë¡ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ
- ë¦¬ì•¡íŠ¸ëŠ” ref ì½œë°± í˜¸ì¶œì‹œ refë¥¼ ì„¤ì •í•  DOM ë…¸ë“œë„ í•¨ê»˜ í˜¸ì¶œ
- ì½œë°± í•¨ìˆ˜ì—ì„œ ë…¸ë“œ ì‚­ì œì‹œ null ì „ë‹¬í•¨
```jsx
import { useRef } from 'react';
  
export default function CatFriends() {
Â  const itemsRef = useRef(null); // refëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´í…œë“¤ì„ ê°€ì§„ ë§µ ê°ì²´

Â  function scrollToId(itemId) {
Â  Â  const map = getMap();
Â  Â  const node = map.get(itemId);
Â  Â  node.scrollIntoView({
Â  Â  Â  behavior: 'smooth',
Â  Â  Â  block: 'nearest',
Â  Â  Â  inline: 'center'
Â  Â  });
Â  }
  
Â  function getMap() {
Â  Â  if (!itemsRef.current) {
Â  Â  Â  // Initialize the Map on first usage.
Â  Â  Â  itemsRef.current = new Map();
Â  Â  }
Â  Â  return itemsRef.current;
Â  }
  
Â  return (
Â  Â  <>
Â  Â  Â  <nav>
Â  Â  Â  Â  <button onClick={() => scrollToId(0)}>
Â  Â  Â  Â  Â  Tom
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button onClick={() => scrollToId(5)}>
Â  Â  Â  Â  Â  Maru
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <button onClick={() => scrollToId(9)}>
Â  Â  Â  Â  Â  Jellylorum
Â  Â  Â  Â  </button>
Â  Â  Â  </nav>
Â  Â  Â  <div>
Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  {catList.map(cat => ( //mapë©”ì„œë“œë¡œ ë¦¬ìŠ¤íŠ¸ì˜ ëª¨ë“  ì•„ì´í…œ ìˆœíšŒ
Â  Â  Â  Â  Â  Â  <li
Â  Â  Â  Â  Â  Â  Â  key={cat.id}
Â  Â  Â  Â  Â  Â  Â  ref={(node) => {
Â  Â  Â  Â  Â  Â  Â  Â  const map = getMap(); //í˜„ì¬ ref ê°’ì¸ ë§µì„ ê°€ì ¸ì˜´
Â  Â  Â  Â  Â  Â  Â  Â  if (node) { //ë…¸ë“œê°€ ìˆë‹¤ë©´ ë§µì— í•´ë‹¹ ì•„ì´í…œ ì¶”ê°€
Â  Â  Â  Â  Â  Â  Â  Â  Â  map.set(cat.id, node);
Â  Â  Â  Â  Â  Â  Â  Â  } else { //ë…¸ë“œê°€ ì—†ë‹¤ë©´ ë§µì—ì„œ í•´ë‹¹ ì•„ì´í…œ ì‚­ì œ
Â  Â  Â  Â  Â  Â  Â  Â  Â  map.delete(cat.id); 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  }}
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  <img
Â  Â  Â  Â  Â  Â  Â  Â  src={cat.imageUrl}
Â  Â  Â  Â  Â  Â  Â  Â  alt={'Cat #' + cat.id}
Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  </ul>
Â  Â  Â  </div>
Â  Â  </>
Â  );
}
  
const catList = [];
for (let i = 0; i < 10; i++) {
Â  catList.push({
Â  Â  id: i,
Â  Â  imageUrl: 'https://placekitten.com/250/200?image=' + i
Â  });
}
```

### ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ DOMì— ì ‘ê·¼í•˜ê¸°
#### `forwardRef()`
- ë‚´ì¥ JSXê°€ ì•„ë‹Œ ì§ì ‘ ë§Œë“  JSXì— `ref={myRef}`ë¥¼ ë„£ìœ¼ë©´ ë™ì‘í•˜ì§€ ì•Šê³  null ì „ë‹¬í•¨ --> ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ DOM ë…¸ë“œì— ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œ ë§‰ê¸° ìœ„í•´ ë°œìƒí•˜ëŠ” ê²ƒ
- refë¥¼ ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ `forwardRef()`ë¥¼ ì‚¬ìš©í•´ refë¥¼ ë°›ì•„ ìì‹ ì˜ íŠ¹ì •í•œ JSX ìš”ì†Œì— ë„£ì„ ìˆ˜ ìˆìŒ
- ë²„íŠ¼, ì…ë ¥ë€ì„ ê°€ì§„ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ DOM ë…¸ë“œë¡œ refë¥¼ ì „ë‹¬í•˜ê³  í¼, ëª©ë¡, í˜ì´ì§€ ì„¹ì…˜ ê°™ì€ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” DOM ë…¸ë“œë¥¼ ë…¸ì¶œí•˜ì§€(ì§ì ‘ ì‚¬ìš©í•˜ì§€) ì•Šê³  DOM êµ¬ì¡°ì— ì˜ì¡´ì„±ì„ ê°–ì§€ ì•Šë„ë¡ í•´ì•¼í•¨
```jsx
import { forwardRef, useRef } from 'react';

const MyInput = forwardRef((props, ref) => {
	return <input {...props} ref={ref} />;
});

export default function Form() {
	const inputRef = useRef(null);
	const handleClick = () => {
		inputRef.current.focus();
	};
	return (
		<>
			<MyInput ref={inputRef} />
			<button onClick={handleClick}>Focus the input</button>
		</>
	);
}
```
#### `useImperativeHandle()`
- í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì— ë…¸ì¶œë˜ëŠ” ê¸°ëŠ¥ì„ ì œí•œì‹œí‚´
- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ DOM ë…¸ë“œê°€ ì•„ë‹Œ `useImperativeHandle`í˜¸ì¶œ ë‚´ì—ì„œ ìƒì„±í•œ ì‚¬ìš©ì ì§€ì • ê°ì²´ë¡œ ì ‘ê·¼í•˜ê²Œ ë¨
```jsx
import { forwardRef, useRef, useImperativeHandle } from 'react';

const MyInput = forwardRef((props, ref) => {
	const realInputRef = useRef(null);
	useImperativeHandle(ref, () => ({
		focus () {
			realInputRef.current.focus();
		},
	}));
	return <input {...props} ref={realInputRef} />;
});

export default function Form() {
	const inputRef = useRef(null);

	function handleClick() {
		inputRef.current.focus();
	}
	return (
		<>
			<MyInput ref={inputRef} />
			<button onClick={handleClick}>Focus the input</button>
		</>
	);
}
```
### `flushSync`ë¡œ ë™ê¸°ì ìœ¼ë¡œ DOM ì—…ë°ì´íŠ¸í•˜ê¸°
- ìƒíƒœ setterê°€ DOMì„ ì¦‰ì‹œ ì—…ë°ì´íŠ¸í•˜ì§€ ì•Šì•„ ë¬¸ì œë  ê²½ìš° ì‚¬ìš©
```jsx
export default function TodoList() {
Â  const listRef = useRef(null);
Â  const [text, setText] = useState('');
Â  const [todos, setTodos] = useState(
Â  Â  initialTodos
Â  );
  
Â  function handleAdd() {
Â  Â  const newTodo = { id: nextId++, text: text };
Â  Â  setText('');
Â  Â  setTodos([ ...todos, newTodo]); //ì•„ë˜ì˜ refë¥¼ ìˆ˜í–‰í•œ í›„ì— newTodoê°€ ì¶”ê°€
Â  Â  listRef.current.lastChild.scrollIntoView({ //ì—…ë°ì´íŠ¸ë˜ê¸° ì „ì˜ todosë¥¼ ì‚¬ìš©í•˜ê²Œ ë¨
Â  Â  Â  behavior: 'smooth',
Â  Â  Â  block: 'nearest'
Â  Â  });
Â  }
...
}
```

1. react-domì—ì„œ flushSync ì„í¬íŠ¸
```jsx
import { flushSync } from 'react-dom';
```
2. ìƒíƒœ ì—…ë°ì´íŠ¸ ë¶€ë¶„ì„ flushSyncë¡œ ë‘˜ëŸ¬ì‹¸ê¸°
```jsx
flushSync(() => {
	setTodos([ ...todos, newTodo]);
});
```

# `useEffect`
- `useEffect`ëŠ” ë¦¬ì•¡íŠ¸ ë°–ì˜ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•˜ëŠ”ë° ì‚¬ìš©ë¨
- `useEffect`ëŠ” ë Œë”ë§ ìì²´ì— ì˜í•´ ë°œìƒí•˜ëŠ” ì‚¬ì´ë“œì´í™íŠ¸ë„ ì§€ì •í•  ìˆ˜ ìˆìŒ --> ì‚¬ì´ë“œì´í™íŠ¸ë¥¼ ë Œë”ë§ ê³„ì‚°ì—ì„œ ë¶„ë¦¬í•˜ê¸°ìœ„í•´ `useEffect`ë¡œ  ë˜í•‘í•¨

> [!tip]
> ë Œë”ë§ ì¤‘ DOMì„ ìˆ˜ì •í•˜ëŠ” í–‰ìœ„ë„ ì‚¬ì´ë“œì´í™íŠ¸ì„

- `useEffect`ëŠ” propsë‚˜ stateê°€ ì—…ë°ì´íŠ¸ë˜ê³ , ë¦¬ë Œë”ë§ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë˜ê³ , ì´ ì‹œì ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•˜ëŠ” ê²Œ ì¢‹ìŒ
- ì‚¬ì´ë“œì´í™íŠ¸ê°€ ë‹¤ë¥¸ stateì— ê¸°ë°˜í•˜ì—¬ ì–´ë–¤ stateë¥¼ ì¡°ì •í•˜ëŠ” ê²½ìš°ì—ëŠ” `useEffect`ê°€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŒ
- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” `useEffect`ëŠ” ëª¨ë‘ ë…ë¦½ì ì„
- StrictModeê°€ í™œì„±í™”ë˜ìˆëŠ” ê°œë°œ ëª¨ë“œì—ì„œ ë¦¬ì•¡íŠ¸ëŠ” ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë§ˆìš´íŠ¸í•œ í›„ í•œ ë²ˆ ë” ë§ˆìš´íŠ¸í•´ì„œ `useEffect`ë„ í•œë²ˆ ë” ì‹¤í–‰ë¨(clean-up í•¨ìˆ˜ë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ëª©ì )
- `useEffect`ë¥¼ ì‚¬ìš©í• ë•Œ ë” ì„ ì–¸ì ì´ê³  ëª©ì ì— ë§ëŠ” APIë¥¼ ê°€ì§„ ì‚¬ìš©ì ì •ì˜ hookìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ ê³ ë ¤í•˜ê¸°
- ì»´í¬ë„ŒíŠ¸ì— `useEffect`í˜¸ì¶œì´ ì ì„ìˆ˜ë¡ ìœ ì§€ ë³´ìˆ˜ê°€ ì‰¬ì›Œì§
## useEffect ë™ì‘ ì´í•´í•˜ê¸°
```jsx
export default function ChatRoom({ roomId }) {
	useEffect(() => {
		const connection = createConnection(roomId);
		connection.connect();
		return () => connection.disconnect();
	}, [roomId]);
	return <h1>Welcome to {roomId}!</h1>;
}
```

1. ì´ˆê¸° ë Œë”ë§ë ë•Œ
- ì‚¬ìš©ìê°€ `<ChatRoom roomId="general" />`ì— ë°©ë¬¸í•˜ë©´ ì²«ë²ˆì§¸ ë Œë”ë§ì˜ JSXëŠ” ë‹¤ìŒê³¼ ê°™ìŒ
```jsx
return <h1>Welcome to general!</h1>;
```
- ë Œë”ë§ í›„ `useEffect`ì‹¤í–‰
```jsx
// ì²« ë²ˆì§¸ ë Œë”ë§ì˜ íš¨ê³¼(Effect) (roomId = "general")
() => {
  const connection = createConnection('general');
  connection.connect();
  return () => connection.disconnect();
},
// ì²« ë²ˆì§¸ ë Œë”ë§ì˜ ì¢…ì†ì„±(dependencies) (roomId = "general")
['general']
```

2. ê°™ì€ ì¢…ì†ì„±(roomId)ìœ¼ë¡œ ì¬ë Œë”ë§ë ë•Œ
- `<ChatRoom roomId="general" />`ì´ ì¬ë Œë”ë§ë˜ë©´ JSX ì¶œë ¥ì€ ë™ì¼í•¨
- ì¬ë Œë”ë§ì‹œ ë¦¬ì•¡íŠ¸ëŠ” `useEffect`ì˜ ì´ì „ ì¢…ì†ì„±ê³¼ í˜„ì¬ ì¢…ì†ì„±ì„ ë¹„êµí•˜ê³  ëª¨ë“  ì¢…ì†ì„±ì´ ë™ì¼í•˜ë©´ `useEffect`ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠìŒ
```jsx
// ë‘ ë²ˆì§¸ ë Œë”ë§ì˜ JSX (roomId = "general")
return <h1>Welcome to general!</h1>;

// ë‘ ë²ˆì§¸ ë Œë”ë§ì˜ íš¨ê³¼(Effect) (roomId = "general")
() => {
  const connection = createConnection('general');
  connection.connect();
  return () => connection.disconnect();
},
// ë‘ ë²ˆì§¸ ë Œë”ë§ì˜ ì¢…ì†ì„±(dependencies) (roomId = "general")
['general']
```

3. ë‹¤ë¥¸ ì¢…ì†ì„±ìœ¼ë¡œ ì¬ë Œë”ë§ë ë•Œ
- ì‚¬ìš©ìê°€ `<ChatRoom roomId="travel" />`ë¥¼ ë°©ë¬¸í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ JSXë¥¼ ë°˜í™˜í•¨
- ë¦¬ì•¡íŠ¸ëŠ” ì¬ë Œë”ë§ëœ Effectë¥¼ ì ìš©í•˜ê¸° ì „ì— ì‹¤í–‰ë˜ì—ˆë˜ ë§ˆì§€ë§‰ Effect(ì²«ë²ˆì§¸ ë Œë”ë§ì˜ Effect)ë¥¼ ì •ë¦¬í•˜ê¸°ìœ„í•´ ì²«ë²ˆì§¸ ë Œë”ë§ìœ¼ë¡œ ì˜¬ë¼ê°€ì„œ `createConnection('general')`ë¡œ ìƒì„±ëœ connectionì— ëŒ€í•´ `disconnect()`ë¥¼ í˜¸ì¶œí•¨
```jsx
// ì„¸ ë²ˆì§¸ ë Œë”ë§ì˜ JSX (roomId = "travel")
return <h1>Welcome to travel!</h1>;

// ì„¸ ë²ˆì§¸ ë Œë”ë§ì˜ íš¨ê³¼(Effect) (roomId = "travel")
() => {
  const connection = createConnection('travel');
  connection.connect();
  return () => connection.disconnect();
},
// ì„¸ ë²ˆì§¸ ë Œë”ë§ì˜ ì¢…ì†ì„±(dependencies) (roomId = "travel")
['travel']
```

4. ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ì´ë™í• ë•Œ
- ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸(ì œê±°)ë˜ë©° ë§ˆì§€ë§‰ Effect(ì„¸ë²ˆì§¸ ë Œë”ë§ì˜ Effect)ì˜ clean-upí•¨ìˆ˜ ì‹¤í–‰
## useEffect ì‚¬ìš©í•˜ê¸°
### 1. Effect ì„ ì–¸í•˜ê¸°
```jsx
import { useEffect } from 'react';

function MyComponent() {
	useEffect(() => {
	 // ì‚¬ì´ë“œì´í™íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œ
	 // ì´ê³³ì˜ ì½”ë“œëŠ” ëª¨ë“  ë Œë”ë§ ì´í›„ì— ì‹¤í–‰ë¨
	}, [/* ì˜ì¡´ì„± ë°°ì—´ */]);
}
```
- ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë ë•Œë§ˆë‹¤ ë¦¬ì•¡íŠ¸ëŠ” í™”ë©´ì„ ì—…ë°ì´íŠ¸í•œ í›„ `useEffect`ë‚´ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•¨
```jsx
const [count, setCount] = useState(0);
useEffect(() => {
	setCount(count + 1);
});
```
- `useEffect`ë‚´ì—ì„œ ìƒíƒœë¥¼ ì¦‰ì‹œ ì„¤ì •í•˜ë©´ ë‹¤ì‹œ ë Œë”ë§ì´ ë°œìƒí•˜ê³ , ì´ë¡œì¸í•´ Effectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê³  ë‹¤ì‹œ ìƒíƒœë¥¼ ì„¤ì •í•´ ë˜ ë‹¤ë¥¸ ë Œë”ë§ì´ ë°œìƒí•˜ë©° ë¬´í•œ ë£¨í”„ì— ë¹ ì§

### 2. Effectì˜ ì˜ì¡´ì„± ì§€ì •í•˜ê¸°
- `useEffect`ë‚´ë¶€ì˜ ì½”ë“œê°€ ì˜ì¡´í•˜ëŠ” ê°’ì„ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•´ì•¼í•¨
	- Effectì—ì„œ ì½ì€ ëª¨ë“  ë°˜ì‘í˜• ê°’(props, state, ê·¸ì™¸ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°’) ì¶”ê°€í•´ì•¼í•¨
	- ë°˜ì‘í˜• ê°’ìœ¼ë¡œ ê³„ì‚°ëœ ë³€ìˆ˜ë“¤ë„ ë°˜ì‘í˜• ê°’ì´ë¯€ë¡œ ì¶”ê°€
	- ì „ì—­ ë³€ìˆ˜ë¥¼ í¬í•¨í•œ ê°€ë³€ ê°’ì€ ë°˜ì‘í˜•ì´ ì•„ë‹˜(ê°€ë³€ ê°’ì„ ì¶”ê°€í•˜ë©´ ë Œë”ë§ì˜ ìˆœìˆ˜ì„±ì„ ê¹¨ëœ¨ë¦¼)
	- ì•ˆì •ì ì¸(stable) ê°’ì€ ë°˜ì‘í˜•ì´ ì•„ë‹ˆë¯€ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ë˜ì§€ë§Œ ì¶”ê°€í•´ë„ ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒê´€ì—†ìŒ
	- `ref.current`ëŠ” ê°€ë³€ ê°’ì´ì§€ë§Œ ì¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°˜ì‘í˜• ê°’ì´ ì•„ë‹Œ ì•ˆì •ì ì¸ ê°’ì„
	- ìƒíƒœ setter í•¨ìˆ˜ëŠ” ë°˜ì‘í˜• ê°’ì´ ì•„ë‹Œ ì•ˆì •ì ì¸ ê°’ì„
- **ì§€ì •í•œ ëª¨ë“  ì˜ì¡´ì„±ì´ ì´ì „ ë Œë”ë§ê³¼ ì •í™•íˆ ë™ì¼í•œ ê°’ì„ ê°–ëŠ” ê²½ìš°ì—ë§Œ Effectë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ**
- ì˜ì¡´ì„± ë°°ì—´ì— ìˆëŠ” ê°’ì´ í•˜ë‚˜ë¼ë„ ë³€í•˜ë©´ ë¦¬ì•¡íŠ¸ëŠ” Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•¨
```jsx
 useEffect(() => {
	if (isPlaying) { // ì—¬ê¸°ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤...
	  // ...
	} else {
	  // ...
	}
}, [isPlaying]); // ...ë”°ë¼ì„œ ì—¬ê¸°ì„œ ì„ ì–¸ë˜ì–´ì•¼ í•©ë‹ˆë‹¤!
```

- ì¢…ì†ì„± ë°°ì—´ì´ ì•„ì˜ˆ ì—†ìœ¼ë©´ `useEffect`ëŠ” ëª¨ë“  ë Œë”ë§ ì´í›„ì— ì‹¤í–‰ë˜ë©°, ë Œë”ë§ë ë•Œë§ˆë‹¤ ì‹¤í–‰ë¨
```jsx
useEffect(() => {
	...
});
```
- ë¹ˆ ì¢…ì†ì„± ë°°ì—´ì´ ìˆìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë‚˜íƒ€ë‚ ë•Œ(ë§ˆìš´íŠ¸ë ë•Œ)ë§Œ ì‹¤í–‰ë˜ê³  ì–¸ë§ˆìš´íŠ¸ë ë•Œë§Œ ë™ê¸°í™” í•´ì œí•¨
```jsx
useEffect(() => {
  ...
}, []);
```
- ì¢…ì†ì„± ë°°ì—´ì— ê°’ì´ ìˆìœ¼ë©´ ë§ˆìš´íŠ¸ë ë•Œë„ ì‹¤í–‰ë˜ê³ , ë§ˆì§€ë§‰ ë Œë”ë§ ì´í›„ì— ê°’ì´ ë³€ê²½ëœ ê²½ìš°ì—ë„ ì‹¤í–‰ë¨
```jsx
useEffect(() => {
  // ì´ê²ƒì€ ë§ˆìš´íŠ¸ë  ë•Œ ì‹¤í–‰ë˜ë©°, a ë˜ëŠ” bê°€ ë§ˆì§€ë§‰ ë Œë”ë§ ì´í›„ì— ë³€ê²½ëœ ê²½ìš°ì—ë„ ì‹¤í–‰ë©ë‹ˆë‹¤.
}, [a, b]);
```
#### ì˜ì¡´ì„± ì œê±°í•˜ê¸°
1. `useEffect`ë‚´ë¶€ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ë°˜ì‘í˜• ê°’ì˜ ì„ ì–¸ ë°©ì‹ì„ ë³€ê²½í•´ ë¹„ ë°˜ì‘í˜• ê°’ìœ¼ë¡œ ë§Œë“¤ê¸°
2. ë¦°í„°ë¥¼ ë”°ë¼ ì˜ì¡´ì„±ì„ ë³€ê²½ëœ ì½”ë“œì™€ ì¼ì¹˜í•˜ë„ë¡ ì¡°ì •
3. ë§Œì¡±ìŠ¤ëŸ¬ìš´ ì˜ì¡´ì„± ëª©ë¡ì´ ì•„ë‹ˆë©´ 1ë²ˆë¶€í„° ë°˜ë³µ
- ì˜ì¡´ì„±ì„ ë³€ê²½í•˜ë ¤ë©´ ë¨¼ì € ì½”ë“œë¥¼ ìˆ˜ì •í•´ë¼
#### ì˜ì¡´ì„±ìœ¼ë¡œ ì¸í•´ ì›í•˜ì§€ ì•ŠëŠ” Effectê°€ ë™ì‘í• ë•Œ
- Effectê°€ ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ í™•ì¸í•˜ê¸°
	- Effectê°€ ì•„ë¬´ê²ƒë„ ë™ê¸°í™”í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¶ˆí•„ìš”í•œ ë™ê¸°í™”ì¼ ìˆ˜ ìˆìŒ
	- ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ ê²ƒì„ ë™ê¸°í™”í•œë‹¤ë©´ ë¶„ë¦¬í•´ì•¼ í•¨([ì°¸ê³ :ë™ê¸°í™” ë¶„ë¦¬](https://react.dev/learn/lifecycle-of-reactive-effects#each-effect-represents-a-separate-synchronization-process))
- propsë‚˜ stateì— ë°˜ì‘í•˜ì§€ ì•Šìœ¼ë©° Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•˜ì§€ ì•Šê³  ìµœì‹  ê°’ì„ ì½ìœ¼ë ¤ë©´ Effectë¥¼ ë°˜ì‘í•˜ëŠ” ë¶€ë¶„ì™€ ë°˜ì‘í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„(Effect Event)ìœ¼ë¡œ ë¶„í• í•˜ê¸°([ì°¸ê³ : ì´ë²¤íŠ¸ ë¶„í• í•˜ê¸°](https://react.dev/learn/separating-events-from-effects), [[ê³ ê¸‰ ê¸°ë²•#Effectì—ì„œ event ë¡œì§ ì¶”ì¶œí•˜ê¸°]])
- ê°ì²´ì™€ í•¨ìˆ˜ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ë§ ê²ƒ([ì°¸ê³ : ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„± ì œê±°](https://react.dev/learn/removing-effect-dependencies))
	- ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì¤‘ì— ê°ì²´ì™€ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  Effectì—ì„œ ì½ìœ¼ë©´ ë Œë”ë§í• ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‚´ìš©ì´ ë™ì¼í•˜ë”ë¼ë„ ìƒˆë¡œ ìƒì„±ëœ ê°ì²´ì™€ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ ê°ì²´ì™€ í•¨ìˆ˜ë¡œ ê°„ì£¼í•˜ê¸° ë•Œë¬¸ì— Effectê°€ ë§¤ë²ˆ ë‹¤ì‹œ ë™ê¸°í™”ë¨
	- **ê°ì²´ë‚˜ í•¨ìˆ˜ê°€ ë°˜ì‘í˜• ê°’ì— ì˜ì¡´í•œë‹¤ë©´ Effect ë‚´ë¶€ì—ì„œ ì„ ì–¸í•˜ê¸°(ìƒíƒœ setter ì œì™¸)**
	- propsë¡œ ê°ì²´ë‚˜ í•¨ìˆ˜ë¥¼ ì „ë‹¬ë°›ëŠ” ê²½ìš°, Effect ì™¸ë¶€ì—ì„œ ê°ì²´ë‚˜ í•¨ìˆ˜ë¡œë¶€í„° ì •ë³´ë¥¼ ì–»ì–´ Effect ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ê¸°
```jsx
function ChatRoom({ options }) {
  const [message, setMessage] = useState('');

  const { roomId, serverUrl } = options; //ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ ê°ì²´ props êµ¬ì¡°ë¶„í•´
  useEffect(() => {
    const connection = createConnection({ //Effectë‚´ë¶€ì—ì„œ ê°ì²´ ì •ë³´ ì‚¬ìš©
      roomId: roomId,
      serverUrl: serverUrl
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]);
  // ...
```
ë°˜ë³µë˜ëŠ” ë¡œì§ì´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ Effectê°€ ì‹¤ì œë¡œ ì–´ë–¤ ì •ë³´ì— ì˜ì¡´í•˜ëŠ”ì§€ ëª…í™•í•˜ê²Œ ì•Œ ìˆ˜ ìˆìŒ
- Effectë‚´ë¶€ì—ì„œ ìƒíƒœ setterë¥¼ ì‚¬ìš©í• ë•Œ ë„˜ê²¨ì£¼ëŠ” ìƒíƒœ ê°’ìœ¼ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ Effect ë¡œì§ì´ ì‹¤í–‰ë ë•Œ: ìƒíƒœ setterì— ê°’ì´ ì•„ë‹Œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ ì „ë‹¬í•˜ê¸° 

### 3. (í•„ìš”í•œ ê²½ìš°) clean-upí•¨ìˆ˜ ì¶”ê°€í•˜ê¸°
- EffectëŠ” ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¢…ì†ì ì¸ ê°’ì´ ë³€í•˜ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë˜ë©´ `useEffect`ê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ë™ì‘ì´ ìœ ì§€ë  ìˆ˜ ìˆìŒ
- clean-upí•¨ìˆ˜ëŠ” `useEffect`ê°€ ìˆ˜í–‰í•œ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê±°ë‚˜ ë˜ëŒë¦¼
- clean-upí•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´ Effectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ê¸° ì „ì— ë§¤ë²ˆ clean-upí•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©°, ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°(ì–¸ë§ˆìš´íŠ¸)ë ë•Œë„ í˜¸ì¶œí•¨
- ë¦¬ì•¡íŠ¸ëŠ” ì´ì „ ë Œë”ì˜ Effectë¥¼ í•­ìƒ ë‹¤ìŒ ë Œë”ì˜ Effectë³´ë‹¤ ë¨¼ì € ì •ë¦¬í•¨
- ì‚¬ìš©ìê°€ `useEffect` í•œë²ˆ ì‹¤í–‰í•˜ëŠ” ê²ƒ(í”„ë¡œë•ì…˜ í™˜ê²½)ê³¼ 'ì„¤ì • --> ì •ë¦¬ --> ì„¤ì •'(ê°œë°œ í™˜ê²½)ì„ êµ¬ë¶„í•  ìˆ˜ ì—†ì–´ì•¼í•¨

#### ë¹„ ë¦¬ì•¡íŠ¸ ìœ„ì ¯ ì œì–´í•˜ê¸°
- ë¦¬ì•¡íŠ¸ë¡œ ì‘ì„±ë˜ì§€ ì•Šì€ UI ìœ„ì ¯ì´ ë§ˆìš´íŠ¸ë˜ë©° ë¶ˆí•„ìš”í•œ ë™ì‘ì„ ìœ ì§€í•˜ë©´ clean-upí•¨ìˆ˜ ì‘ì„±í•˜ê¸°
- ì—°ì†ìœ¼ë¡œ ë‘ ë²ˆ í˜¸ì¶œí•˜ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ” ì¼ë¶€ APIë“¤ì„ ì‚¬ìš©í• ë•Œ clean-upí•¨ìˆ˜ ì‘ì„±í•˜ê¸°(e.g. `<dialog>`ì˜ `showModal()`ë©”ì„œë“œ)
```jsx
useEffect(() => {
	const dialog = dialogRef.current;
	dialog.showModal();
	return () => dialog.close();
}, []);
```

#### ì´ë²¤íŠ¸ êµ¬ë… í•´ì§€í•˜ê¸°
- Effectê°€ `addEventListener()` ê°™ì€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ í˜¸ì¶œí•˜ê³  ìˆë‹¤ë©´ clean-upí•¨ìˆ˜ì— `removeEventListener()`ë“±ì„ ì‚¬ìš©í•´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì œê±°í•´ì•¼í•¨
```jsx
React.useEffect(() => {
Â  Â  const handleResize = () => {
Â  Â  Â  if (window.innerWidth > 833) {
Â  Â  Â  Â  setActive('nav-menu');
Â  Â  Â  Â  setToggler('nav-toggler');
Â  Â  Â  }
Â  Â  };
Â  Â  window.addEventListener('resize', handleResize);
Â  Â  return () => {
Â  Â  Â  window.removeEventListener('resize', handleResize);
Â  Â  };
Â  }, []);
```

#### ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°ì‹œ ì´ˆê¸°ê°’ìœ¼ë¡œ ì¬ì„¤ì •í•˜ê¸°
- Effectê°€ ì• ë‹ˆë©”ì´ì…˜ì„ íŠ¸ë¦¬ê±°í•œë‹¤ë©´ clean-upí•¨ìˆ˜ë¡œ ì• ë‹ˆë©”ì´ì…˜ì„ ì´ˆê¸°ê°’ìœ¼ë¡œ ì¬ì„¤ì •í•´ì•¼í•¨
```jsx
useEffect(() => {
	const node = ref.current;
	node.style.opacity = 1; // ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°
	return () => {
		node.style.opacity = 0; // ì´ˆê¸° ê°’ìœ¼ë¡œ ì¬ì„¤ì •
	};
}, []);
```

#### ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ í›„ fetchë¥¼ ì¤‘ë‹¨í•˜ê±°ë‚˜ ê²°ê³¼ë¥¼ ë¬´ì‹œí•´ì•¼í•¨
```jsx
useEffect(() => {
	let ignore = false;
	async function startFetching() {
	const json = await fetchTodos(userId);
		if (!ignore) {
			setTodos(json);
		}
	}
	startFetching();
	return () => {
	ignore = true;
	};
}, [userId]);
```
- Effectê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ë•Œ clean-upí•¨ìˆ˜ëŠ” ë” ì´ìƒ ê´€ë ¨ ì—†ëŠ” fetchê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ í•´ì•¼í•¨
- EffectëŠ” ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ì‹œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ì•±ì„ ë Œë”ë§í•œ í›„ì—ì•¼ ë°ì´í„°ê°€ ë¡œë“œë¨
- Effect ë‚´ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ 'ë„¤íŠ¸ì›Œí¬ í­í¬'ê°€ ë°œìƒí•´ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ
- Effect ë‚´ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ ë°ì´í„°ë¥¼ ì‚¬ì „ ë¡œë“œí•˜ì§€ ì•Šê±°ë‚˜ ìºì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ì„
- í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë‚´ì¥ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë©”ì»¤ë‹ˆì¦˜ ì‚¬ìš©í•˜ê¸°
- í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìºì‹œë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ êµ¬ì¶•í•˜ê¸°
	- ì˜¤í”ˆ ì†ŒìŠ¤ ì†”ë£¨ì…˜: React Query, useSWR, React Router 6.4+
## ë¶ˆí•„ìš”í•œ Effect ì œê±°í•˜ê¸°
- ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ í”¼í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒìœ„ ìˆ˜ì¤€ì—ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ë³€í™˜í•˜ê¸°
- ì‚¬ìš©ì ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Effectë¥¼ ì‚¬ìš©í•˜ì§€ ë§ ê²ƒ: Effectê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì—ëŠ” ì‚¬ìš©ìê°€ ë¬´ì—‡ì„ í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ
- ê¸°ì¡´ì˜ props ë˜ëŠ” stateì—ì„œ ê³„ì‚°í•  ìˆ˜ ìˆìœ¼ë©´ ìƒˆë¡œìš´ stateë¥¼ ì¶”ê°€í•˜ê¸° ë³´ë‹¤ ë Œë”ë§ ì¤‘ì— ê³„ì‚°í•˜ê¸°
- ì—°ì‡„ì ì¸ Effect í˜¸ì¶œ í”¼í•˜ê¸°: ë Œë”ë§ ì¤‘ì— ê³„ì‚°í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ê³„ì‚°í•˜ê³ , ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì•ˆì—ì„œ ìƒíƒœ ì¡°ì •í•˜ê¸°
	- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ë‹¤ìŒ ìƒíƒœë¥¼ ì§ì ‘ ê³„ì‚°í•  ìˆ˜ ì—†ëŠ” ê²½ìš°(ë„¤íŠ¸ì›Œí¬ì™€ ë™ê¸°í™”ëœ ë°ì´í„°)ì—ëŠ” ì—°ì‡„ì ìœ¼ë¡œ Effect í˜¸ì¶œí•´ë„ë¨
- ìˆ˜ë™ìœ¼ë¡œ Effectë¥¼ ì‘ì„±í•˜ê¸°ë³´ë‹¤ ë‚´ì¥ hook ì‚¬ìš©í•˜ê¸°
	- `useSyncExternalStore`: ì™¸ë¶€ ê°€ë³€ ê°’ì„ ìƒíƒœ ê°’ê³¼ ë™ê¸°í™”í• ë•Œ ì‚¬ìš©
```jsx
function Form() {
  const [firstName, setFirstName] = useState('Taylor');
  const [lastName, setLastName] = useState('Swift');

  // ğŸ”´ í”¼í•˜ì„¸ìš”: ì¤‘ë³µëœ ìƒíƒœì™€ ë¶ˆí•„ìš”í•œ Effect
  const [fullName, setFullName] = useState('');
  useEffect(() => {
    setFullName(firstName + ' ' + lastName);
  }, [firstName, lastName]);
  // ...
}
```

```jsx
function Form() {
  const [firstName, setFirstName] = useState('Taylor');
  const [lastName, setLastName] = useState('Swift');
  // âœ… ì¢‹ì€ ì˜ˆ: ë Œë”ë§ ì¤‘ ê³„ì‚°ë¨
  const fullName = firstName + ' ' + lastName;
  // ...
}
```
### `useMemo`ë¡œ ê³„ì‚°í•œ ê°’ ì¬ì‚¬ìš©í•˜ê¸°
- `useMemo`ëŠ” ì²« ë²ˆì§¸ ë Œë”ë§ ì¤‘ì— ê°ì‹¼ ë‚´ë¶€ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì„ ì €ì¥í•´ë‘ 
- `useMemo`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€í•œ ê°’ë“¤ì´ ë³€ê²½ë˜ì•¼ ë‚´ë¶€ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì €ì¥í•¨
- `useMemo`ë¡œ ê°ì‹¼ í•¨ìˆ˜ëŠ” ë Œë”ë§ ì¤‘ì— ì‹¤í–‰ë˜ë¯€ë¡œ ìˆœìˆ˜í•œ ê³„ì‚°ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥
- `useMemo`ëŠ” ì²« ë²ˆì§¸ ë Œë”ë§ì„ ë” ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ ì£¼ì§€ëŠ” ì•Šê³  ì—…ë°ì´íŠ¸ì‹œ ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ ê±´ë„ˆë›°ë„ë¡ í•´ì¤Œ 
```jsx
import { useMemo, useState } from 'react';

function TodoList({ todos, filter }) {
  const [newTodo, setNewTodo] = useState('');
  const visibleTodos = useMemo(() => {
    // âœ… todos ë˜ëŠ” filterê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
    return getFilteredTodos(todos, filter);
  }, [todos, filter]);
  // ...
}
```
#### ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê³„ì‚°ì¸ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•
1. `console.time()`ìœ¼ë¡œ í•´ë‹¹ ê³„ì‚°ì˜ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •í•˜ê¸°
```jsx
console.time('filter array');
const visibleTodos = getFilteredTodos(todos, filter);
console.timeEnd('filter array');
```
2. `useMemo`ë¥¼ ì ìš©í•œ ê³„ì‚°ì˜ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •í•˜ê¸°
```jsx
console.time('filter array');
const visibleTodos = useMemo(() => {
  return getFilteredTodos(todos, filter); // todosì™€ filterê°€ ë³€ê²½ë˜ì§€ ì•Šì€ ê²½ìš° ê±´ë„ˆëœ€
}, [todos, filter]);
console.timeEnd('filter array');
```
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì‹œ ì¸ìœ„ì ìœ¼ë¡œ ì†ë„ë¥¼ ëŠ¦ì¶”ëŠ” ê²Œ ì¢‹ìŒ(í¬ë¡¬ì˜ CPU Throttling ì˜µì…˜ ì‚¬ìš©í•˜ê¸°)
- StrictModeê°€ ì¼œì ¸ ìˆìœ¼ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë‘ ë²ˆ ë Œë”ë§ë˜ê¸° ë•Œë¬¸ì— ì•±ì„ í”„ë¡œë•ì…˜ìœ¼ë¡œ ë¹Œë“œí•˜ê³  ì‚¬ìš©ìì™€ ê°™ì€ ê¸°ê¸°ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ê¸°
### Effectì—ì„œ propsì´ ë³€ê²½ë ë•Œ ìƒíƒœ ì¬ì„¤ì • í”¼í•˜ê¸°
#### JSX ìš”ì†Œì— key ì†ì„± ì‚¬ìš©
1. ìƒíƒœ ì¬ì„¤ì •ì— ë”°ë¼ ë³€í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê¸°
2. ë¶„ë¦¬í•œ ì»´í¬ë„ŒíŠ¸ì— í‚¤ë¥¼ ë¶€ì—¬í•˜ê³  props ì „ë‹¬í•˜ê¸°
- ë¦¬ì•¡íŠ¸ëŠ” ì„œë¡œ ë‹¤ë¥¸ í‚¤ ê°’ì„ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì„œë¡œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì·¨ê¸‰í•´ ìƒíƒœë¥¼ ê³µìœ í•˜ì§€ ì•ŠìŒ
- í‚¤ê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ ë¦¬ì•¡íŠ¸ëŠ” DOMì„ ì¬ìƒì„±í•˜ê³  í‚¤ê°€ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ ëª¨ë“  ìì‹ì˜ ìƒíƒœë¥¼ ì¬ì„¤ì •í•¨
#### ë Œë”ë§ ì¤‘ì— ëª¨ë“  ê²ƒì„ ê³„ì‚°
```jsx
function List({ items }) {
  const [isReverse, setIsReverse] = useState(false);
  const [selectedId, setSelectedId] = useState(null);
  //ë Œë”ë§ ì¤‘ì— ëª¨ë“  ê²ƒì„ ê³„ì‚°
  const selection = items.find(item => item.id === selectedId) ?? null;
  // findë©”ì„œë“œê°€ ëª»ì°¾ìœ¼ë©´ undefinedë¥¼ ë°˜í™˜í•´ì„œ selectionì€ nullì´ë¨
}
```
#### ë Œë”ë§ ì¤‘ì— ìƒíƒœ ì¡°ì •(ê¶Œì¥ ì•ˆí•¨)
```jsx
function List({ items }) {
  const [isReverse, setIsReverse] = useState(false);
  const [selection, setSelection] = useState(null);

  //ë Œë”ë§ ì¤‘ì— ìƒíƒœë¥¼ ì¡°ì •
  const [prevItems, setPrevItems] = useState(items);
  if (items !== prevItems) {
    setPrevItems(items);
    setSelection(null);
  }
  // ...
}
```
- ë Œë”ë§ ì¤‘ì— ì»´í¬ë„ŒíŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ, ë¦¬ì•¡íŠ¸ëŠ” ë°˜í™˜ëœ JSXë¥¼ ë²„ë¦¬ê³  ì¦‰ì‹œ ì¬ë Œë”ë§ ì‹œë„í•¨
- ë¦¬ì•¡íŠ¸ëŠ” ë Œë”ë§ ì¤‘ì— ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë§Œ ì—…ë°ì´íŠ¸í•¨(ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ë©´ ì˜¤ë¥˜ ë°œìƒ)
- propsì´ë‚˜ ë‹¤ë¥¸ stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒíƒœë¥¼ ì¡°ì •í•˜ëŠ” ê±´ ë°ì´í„° íë¦„ì„ ì´í•´í•˜ê³  ë””ë²„ê¹…í•˜ê¸° ì–´ë µê²Œ ë§Œë“¬ --> **í‚¤ë¡œ ëª¨ë“  ìƒíƒœë¥¼ ì¬ì„¤ì •í•˜ê±°ë‚˜ ë Œë”ë§ ì¤‘ì— ëª¨ë“  ê²ƒì„ ê³„ì‚°í•˜ê¸°**
### ì´ë²¤íŠ¸ë³„ ë¡œì§ì„ Effect ë‚´ë¶€ì— ë„£ì§€ ë§ ê²ƒ
- ë¡œì§ì´ ì‚¬ìš©ìì˜ íŠ¹ì • ìƒí˜¸ì‘ìš©ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ê²½ìš° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ë“¤ì–´ê°€ì•¼í•˜ê³ , ì‚¬ìš©ìê°€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¨ì§€ í™”ë©´ì—ì„œ ë³¼ë•Œ ë¡œì§ì´ ë°œìƒí•˜ë©´ Effectì— ìœ ì§€í•´ì•¼í•¨
  (e.g. í¼ì„ ì‘ì„±í•˜ê³  ì œì¶œ ë²„íŠ¼ í´ë¦­ì‹œ POST ìš”ì²­ ë³´ë‚¼ë•Œ Effectë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë ë•Œ ìš”ì²­ì´ ë³´ë‚´ì§€ë¯€ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ë¶€ë¡œ ìš”ì²­ ë¡œì§ ì´ë™ì‹œì¼œì•¼í•¨)
```jsx
function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');

  // âœ… ì¢‹ì€ ë°©ë²•: ì»´í¬ë„ŒíŠ¸ê°€ í‘œì‹œë˜ì—ˆì„ ë•Œ ì´ ë¡œì§ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•¨
  useEffect(() => {
    post('/analytics/event', { eventName: 'visit_form' });
  }, []);

  // ğŸ”´ í”¼í•´ì•¼ í•¨: ì´ë²¤íŠ¸ë³„ ë¡œì§ì„ Effect ë‚´ë¶€ì— ë„£ì§€ ë§ ê²ƒ
  const [jsonToSubmit, setJsonToSubmit] = useState(null);
  useEffect(() => {
    if (jsonToSubmit !== null) {
      post('/api/register', jsonToSubmit);
    }
  }, [jsonToSubmit]);

  function handleSubmit(e) {
    e.preventDefault();
    setJsonToSubmit({ firstName, lastName });
  }
  // ...
}
```

```jsx
function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');

  // âœ… ì¢‹ì€ ë°©ë²•: ì»´í¬ë„ŒíŠ¸ê°€ í‘œì‹œë˜ì—ˆì„ ë•Œ ì´ ë¡œì§ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•¨
  useEffect(() => {
    post('/analytics/event', { eventName: 'visit_form' });
  }, []);

  function handleSubmit(e) {
    e.preventDefault();
    // âœ… ì¢‹ì€ ë°©ë²•: ì´ë²¤íŠ¸ë³„ ë¡œì§ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ìˆìŒ
    post('/api/register', { firstName, lastName });
  }
  // ...
}
```
### ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œë“œë§ˆë‹¤ ì‹¤í–‰ë˜ì–´ì•¼í•˜ëŠ” ê²½ìš°
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì˜ ì´ˆê¸°í™” ë¡œì§ì€ App.js ê°™ì€ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§„ì…ì ì— ìœ ì§€í•˜ê¸°
- ë¡œì§ì´ ì´ë¯¸ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ì¶”ì í•˜ëŠ” ìµœìƒìœ„ ë³€ìˆ˜(ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ ë³€ìˆ˜) ì¶”ê°€í•´ ì‚¬ìš©í•˜ê¸°
```jsx
let didInit = false; //ìµœìƒìœ„ ë³€ìˆ˜

function App() {
  useEffect(() => {
    if (!didInit) {
      didInit = true;
      // âœ… ì•± ë¡œë“œë§ˆë‹¤ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨
      loadDataFromLocalStorage();
      checkAuthToken();
    }
  }, []);
  // ...
}
```
- Effectì— í•´ë‹¹ ë¡œì§ì„ ë„£ì§€ ì•Šê³  ëª¨ë“ˆ ì´ˆê¸°í™”ë‚˜ ì•± ë Œë”ë§ ì´ì „ì— ì‹¤í–‰í•˜ê¸°
```jsx
// ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
if (typeof window !== 'undefined') { 
  // âœ… ì•± ë¡œë“œë§ˆë‹¤ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨
  checkAuthToken();
  loadDataFromLocalStorage();
}

function App() {
  // ...
}
```
### ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœ ë³€ê²½ ì•Œë¦´ë•Œ
- ë¶€ëª¨ì—ê²Œ ë°›ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ Effectì—ì„œ ì‹¤í–‰í•˜ë©´ ë„ˆë¬´ ëŠ¦ê²Œ ì‹¤í–‰ë¨
- ë³€ê²½ì„ ë°œìƒì‹œí‚¨ ì´ë²¤íŠ¸ì—ì„œ ëª¨ë“  ì—…ë°ì´íŠ¸ ë¡œì§ ìˆ˜í–‰í•˜ê¸°
- ë‘ ê°€ì§€ ë‹¤ë¥¸ ìƒíƒœ ë³€ìˆ˜ë¥¼ ë™ê¸°í™”í•˜ë ¤ë©´ 'ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°' ì‹œë„í•˜ê¸°
```jsx
function Toggle({ onChange }) {
  const [isOn, setIsOn] = useState(false);

  // ğŸ”´ í”¼í•´ì•¼ í•¨: onChange í•¸ë“¤ëŸ¬ê°€ ë„ˆë¬´ ëŠ¦ê²Œ ì‹¤í–‰ë¨
  useEffect(() => {
    onChange(isOn);
  }, [isOn, onChange])

  function handleClick() {
    setIsOn(!isOn);
  }

  function handleDragEnd(e) {
    if (isCloserToRightEdge(e)) {
      setIsOn(true);
    } else {
      setIsOn(false);
    }
  }
  // ...
}
```
### ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ Effectì—ì„œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸í•˜ì§€ ë§ ê²ƒ
- **ë¶€ëª¨ì™€ ìì‹ ëª¨ë‘ ë™ì¼í•œ ë°ì´í„°ê°€ í•„ìš”í•œ ê²½ìš°**, ìì‹ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ë¶€ëª¨ì—ê²Œ ì „ë‹¬í•˜ì§€ ë§ê³  **ë¶€ëª¨ê°€ ê°€ì ¸ì™€ì„œ ìì‹ì—ê²Œ ì „ë‹¬í•˜ê¸°**
```jsx
function Parent() {
  const [data, setData] = useState(null);
  // ...
  return <Child onFetched={setData} />;
}

function Child({ onFetched }) {
  const data = useSomeAPI(); //ìì‹ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
  // ğŸ”´ í”¼í•´ì•¼ í•¨: Effectì—ì„œ ë°ì´í„°ë¥¼ ë¶€ëª¨ì—ê²Œ ì „ë‹¬
  useEffect(() => {
    if (data) {
      onFetched(data);
    }
  }, [onFetched, data]);
  // ...
}
```

```jsx
function Parent() {
  const data = useSomeAPI(); //ë¶€ëª¨ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
  // ...
  // âœ… ì¢‹ì€ ë°©ë²•: ë°ì´í„°ë¥¼ ìì‹ì—ê²Œ ì „ë‹¬
  return <Child data={data} />;
}

function Child({ data }) {
  // ...
}
```
### ë°ì´í„° ê°€ì ¸ì˜¬ë•Œ race condition ì²˜ë¦¬í•˜ê¸°
- race condition(ê²½ìŸ ìƒíƒœ): ì—¬ëŸ¬ ê°œì˜ ì¿¼ë¦¬(ìš”ì²­)ë¥¼ ë‚ ë¦´ë•Œ ì„œë¡œ ê²½ìŸí•˜ì—¬ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ìˆœì„œë¡œ ì‘ë‹µì´ ë„ì°©í•˜ëŠ” ìƒí™©
- Effectë‚´ì— **ì •ë¦¬ í•¨ìˆ˜**ë¥¼ ì¶”ê°€í•˜ë©´ Effectê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ë•Œ, ë§ˆì§€ë§‰ ìš”ì²­ì„ ì œì™¸í•œ ëª¨ë“  ì‘ë‹µì´ ë¬´ì‹œë˜ë„ë¡ ë³´ì¥í•¨(EffectëŠ” ë Œë”ë§ í›„ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë Œë”ë§ ì‹œ ë‚¨ì•„ìˆëŠ” ë§ˆì§€ë§‰ ìš”ì²­ì— ëŒ€í•œ Effectê°€ ì‹¤í–‰ë¨)
```jsx
function SearchResults({ query }) {
  const [results, setResults] = useState([]);
  const [page, setPage] = useState(1);

  useEffect(() => {
    // ğŸ”´ í”¼í•´ì•¼ í•¨: ì •ë¦¬ ë¡œì§ ì—†ì´ ê°€ì ¸ì˜¤ê¸°
    fetchResults(query, page).then(json => {
      setResults(json);
    });
  }, [query, page]);

  function handleNextPageClick() {
    setPage(page + 1);
  }
  // ...
}
```

```jsx
function SearchResults({ query }) {
  const [results, setResults] = useState([]);
  const [page, setPage] = useState(1);
  useEffect(() => {
    let ignore = false;
    fetchResults(query, page).then(json => {
      if (!ignore) {
        setResults(json);
      }
    });
    return () => {
      ignore = true;
    };
  }, [query, page]);

  function handleNextPageClick() {
    setPage(page + 1);
  }
  // ...
}
```
- ê²½ìŸ ìƒíƒœëŠ” ëª¨ë“  UI ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ íš¨ìœ¨ì ì¸ ê¸°ë³¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë©”ì»¤ë‹ˆì¦˜ì´ ë‚´ì¥ëœ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ìŒ
- í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜ Effectì—ì„œ ë” í¸ë¦¬í•˜ê²Œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ Effect ë¡œì§ ì¶”ì¶œí•´ì„œ ì‚¬ìš©ì ì •ì˜ hookìœ¼ë¡œ ë§Œë“¤ê¸°
```jsx
function SearchResults({ query }) {
  const [page, setPage] = useState(1);
  const params = new URLSearchParams({ query, page });
  const results = useData(`/api/search?${params}`);

  function handleNextPageClick() {
    setPage(page + 1);
  }
  // ...
}

function useData(url) {
  const [data, setData] = useState(null);
  useEffect(() => {
    let ignore = false;
    fetch(url)
      .then(response => response.json())
      .then(json => {
        if (!ignore) {
          setData(json);
        }
      });
    return () => {
      ignore = true;
    };
  }, [url]);
  return data;
}
```
- ì˜¤ë¥˜ ì²˜ë¦¬, ì½˜í…ì¸  ë¡œë”© ì—¬ë¶€ ì¶”ì  ë¡œì§ ì¶”ê°€í•˜ëŠ”ê²Œ ì¢‹ìŒ(ì˜¤í”ˆ ì†ŒìŠ¤ ì‚¬ìš©í•˜ê¸°)
### Effectì—ì„œ ê´€ë ¨ ì—†ëŠ” ì—¬ëŸ¬ ë™ê¸°í™” ì‘ì—… ë¶„ë¦¬í•˜ê¸°
- ë°˜ì‘í˜• ê°’ë“¤ ì¤‘ í•˜ë‚˜ë§Œ ë°”ê»´ë„ Effectê°€ ì¬ì‹¤í–‰ë˜ì„œ ë¶ˆí•„ìš”í•œ ë¡œì§ì´ ì¬ì‹¤í–‰ë  ìˆ˜ ìˆìŒ
	- A âŠƒ Bì¸ A, Bê°€ ê°™ì€ Effectì— ìˆìœ¼ë©´ Bê°€ ë°”ë€”ë•Œë§ˆë‹¤ AëŠ” ê·¸ëŒ€ë¡œì§€ë§Œ Aë¥¼ ê³„ì‚°í•˜ëŠ” ë¡œì§ì´ ì¬ì‹¤í–‰ë˜ëŠ” ê²½ìš°
- Effectì˜ ì„œë¡œ ë‹¤ë¥¸ ë¶€ë¶„ì´ ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤ë©´ ë¶„ë¦¬í•˜ê¸°
	- ì„œë¡œ ê´€ë ¨ ì—†ëŠ” ìƒíƒœë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë¡œì§ì´ ê°™ì€ Effectì— ìˆë‹¤ë©´ ë¡œì§ ë¶„ë¦¬
## Effectì˜ ìƒëª…ì£¼ê¸°
- ì»´í¬ë„ŒíŠ¸ëŠ” ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸, ì–¸ë§ˆìš´íŠ¸ê°€ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ EffectëŠ” ë§ˆìš´íŠ¸, ì–¸ë§ˆìš´íŠ¸ë§Œ ë°œìƒ
- Effectì˜ ìƒëª…ì£¼ê¸°ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì™€ ë…ë¦½ì ìœ¼ë¡œ ìƒê°í•˜ëŠ”ê²Œ ì¢‹ìŒ
	- í•­ìƒ í•œ ë²ˆì— í•˜ë‚˜ì˜ ë™ê¸°í™” ì‹œì‘/ì¤‘ì§€ ì£¼ê¸°ì— ì§‘ì¤‘í•˜ê¸°
	- ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ëŠ” ì¤‘ìš”í•˜ì§€ ì•Šìœ¼ë©°, ë™ê¸°í™”ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ê³¼ ì¤‘ì§€í•˜ëŠ” ë°©ë²•ë§Œ ì‘ì„±í•˜ë©´ ë¨(ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ë¡œì§ ì‘ì„±ì‹œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë˜ëŠ”ì§€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ” ê²ƒê³¼ ìœ ì‚¬í•¨)
- Effectì˜ ë§ˆìš´íŠ¸/ì–¸ë§ˆìš´íŠ¸ëŠ” Effectê°€ ì‹œê°„ì— ë”°ë¼ ë³€í•˜ëŠ” propsê³¼ stateì— ì˜ì¡´í•˜ë©´ ì—¬ëŸ¬ ë²ˆ ë°œìƒ ê°€ëŠ¥
## Effectì—ì„œ event ë¡œì§ ì¶”ì¶œí•˜ê¸°
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ì´í™íŠ¸ ì¤‘ ë­˜ ì‚¬ìš©í•´ì•¼í• ì§€ ëª¨ë¥´ê² ë‹¤ë©´ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ì•¼í•˜ëŠ” ì´ìœ ë¥¼ ìƒê°í•  ê²ƒ

| ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ | ì´í™íŠ¸ |
| ---- | ---- |
| ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íŠ¹ì • ìƒí˜¸ì‘ìš©ì—ë§Œ ì‹¤í–‰ë¨ | ì´í™íŠ¸ëŠ” ë™ê¸°í™”ê°€ í•„ìš”í• ë•Œë§ˆë‹¤ ì‹¤í–‰ë¨ |
| ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‚´ì˜ ë¡œì§ì€ ë°˜ì‘í˜•ì´ ì•„ë‹˜(ë³€ê²½ ì‚¬í•­ì— ë°˜ì‘í•˜ì§€ ì•Šê³  ë°˜ì‘í˜• ê°’ë“¤ì„ ì½ì„ ìˆ˜ ìˆìŒ) | ì´í™íŠ¸ ë‚´ì˜ ë¡œì§ì€ ë³€ê²½ ì‚¬í•­ì— ë°˜ì‘í•¨ |
### `useEffectEvent`(unstable API)
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ Effectì™€ ë™ì‹œì— ì‹¤í–‰ë˜ì•¼í•˜ì§€ë§Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë§Œ ì‹¤í–‰ë ë•ŒëŠ” Effectê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì•¼ í• ë•Œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì¶”ì¶œí•´ `useEffectEvent`ë¡œ ê°ìŒˆ
  (e.g. ì±„íŒ…ë°©ì— ì—°ê²°ë ë•Œë§ˆë‹¤ ì•ŒëŒì´ ëœ¨ì§€ë§Œ propsë¡œ ì¸í•´ ì•ŒëŒì´ ëœ¨ê¸°ëŠ” ì›í•˜ì§€ ì•ŠìŒ)
```jsx
import { useEffectEvent } from 'react';

const onMyEvent = useEffectEvent((ë°˜ì‘í˜•ê°’) => {
	...
})
```
- `onMyEvent`ëŠ” ì´í™íŠ¸ ì´ë²¤íŠ¸ë¼ê³  ë¶€ë¦„
- ì´í™íŠ¸ ì´ë²¤íŠ¸ëŠ” í•­ìƒ ìµœì‹  props, stateê°’ì„ ë³¼ ìˆ˜ ìˆìŒ
- ì´í™íŠ¸ ì´ë²¤íŠ¸ëŠ” ë°˜ì‘í˜•ì´ ì•„ë‹ˆë¯€ë¡œ `useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— ì¶”ê°€ ì•ˆí•¨
- ì´í™íŠ¸ ì´ë²¤íŠ¸ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ë‹¬ë¦¬ **Effectë‚´ì—ì„œë§Œ í˜¸ì¶œë˜ë¯€ë¡œ** ì‚¬ìš©ìì˜ ë°˜ì‘í˜• ì´í™íŠ¸ì™€ ë¬´ê´€í•œ ì½”ë“œì™€ì˜ ì—°ê²°ì„ ëŠì„ ìˆ˜ ìˆìŒ
- ì´í™íŠ¸ ì´ë²¤íŠ¸ëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” Effectì™€ í•­ìƒ ê°™ì€ ê³³ì— ìˆì–´ì•¼í•¨(ê°™ì€ ë¸”ë¡ì— í¬í•¨ë˜ìˆì–´ì•¼í•¨)
```jsx
function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification('Connected!', theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', () => {
      onConnected(); //ì´í™íŠ¸ ì´ë²¤íŠ¸ í˜¸ì¶œ
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]); // âœ… ëª¨ë“  ì˜ì¡´ì„±ì´ ì„ ì–¸ë˜ì—ˆìŠµë‹ˆë‹¤.
  // ...
```
ìœ„ ì½”ë“œì—ì„œ roomIdê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ Effectë¥¼ ì‹¤í–‰í•˜ê³  onConnected ì´ë²¤íŠ¸ ì´í™íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ë§Œ, themeê°€ ë³€ê²½ë ë•ŒëŠ” onConnected ì´ë²¤íŠ¸ ì´í™íŠ¸ë§Œ ì‹¤í–‰ë˜ê³  EffectëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠìŒ 
# ì‚¬ìš©ì ì •ì˜ Hook
- ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¡œì§ì„ ì¶”ì¶œí•˜ë©´ ì™¸ë¶€ ì‹œìŠ¤í…œì´ë‚˜ ë¸Œë¼ìš°ì € API ê°™ì€ ë³µì¡í•œ ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê²¨ ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œê°€ êµ¬í˜„ì´ ì•„ë‹Œ ì˜ë„ë¥¼ ë‚˜íƒ€ë‚´ë„ë¡ ë„ì™€ì¤Œ
- í›…ì˜ ì´ë¦„ì€ `use`ë¡œ ì‹œì‘í•˜ê³  ì¹´ë©œì¼€ì´ìŠ¤ì„
- ì»¤ìŠ¤í…€ í›… ì•ˆì—ëŠ” ì ì–´ë„ í•˜ë‚˜ì˜ í›…ì´ ìˆì–´ì•¼í•¨
- ì»¤ìŠ¤í…€ í›…ì€ ìƒíƒœ ìì²´ë¥¼ ê³µìœ í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ìƒíƒœ ë¡œì§ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ í›…ì„ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•´ë„ í˜¸ì¶œëœ ê°ê°ì˜ í›…ë“¤ì€ ë…ë¦½ì ì„
- ì»¤ìŠ¤í…€ í›…ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì¬ë Œë”ë§ë ë•Œë§ˆë‹¤ ë‹¤ì‹œ ì‹¤í–‰ë˜ë¯€ë¡œ í•­ìƒ ìµœì‹  props, stateê°’ì„ ë°›ìŒ
- Effectë¥¼ ì‘ì„±í• ë•Œë§ˆë‹¤ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë˜í•‘í•˜ì§€ëŠ” ë§ ê²ƒ
- ì»¤ìŠ¤í…€ í›…ì— Effectë¥¼ ìˆ¨ê²¨ ì»´í¬ë„ŒíŠ¸ì— ë¶ˆí•„ìš”í•œ ì¢…ì†ì„±ì´ ì¶”ê°€ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŒ
- `useEffect`ìì²´ë¥¼ ëŒ€ì²´í•˜ê±°ë‚˜ ìƒëª…ì£¼ê¸° ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í”¼í•˜ê¸°
- ì»¤ìŠ¤í…€ í›…ì€ ì„ ì–¸ì ìœ¼ë¡œ í˜¸ì¶œë˜ì•¼í•˜ë©°, ì¶”ìƒí™”ë˜ì•¼í•˜ë©° ìˆœìˆ˜í•´ì•¼í•¨
- ì»¤ìŠ¤í…€ í›…ì—ì„œ ì „ë‹¬ë°›ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” `useEffectEvent`ë¡œ ë˜í•‘í•´ì•¼í•¨
