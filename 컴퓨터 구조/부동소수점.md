# 부동소수점이란?
부동(浮動)이란 뜰 부(浮)에 움직일 동(動)을 써서 '떠서 움직인다'는 뜻이다. 즉, 소수점이 떠 다닌다는 의미다. floating point와 같은 의미다.
# 부동소수점의 10진수 표현
123.75라는 실수를 고정 소수점으로 표현하면 123은 정수부고, 45는 소수부다.

부동소수점은 유효숫자를 사용한 곱셈 형태로 표현한다.
$\pm (가수) \times (밑수)^{(지수)}$

$12.375 \times 10^{1}$
밑수와 지수를 표현하기 위해 소수점 한 칸을 앞으로 올린다. 지수 값을 변경하면 소수점이 이동한다.
# 정규화
부동소수점의 정규화란, 가수부의 첫번째 자리수를 밑수보다 작은 수로 바꾸는 것이다. 다음은 위 부동소수점 표현을 정규화한 것이다.
$1.2375 \times 10^{2}$
가수는 1.2375로 밑수 10보다 작아지고, 지수는 2로 증가했다.
정규화는 주로 최적화를 위해 사용한다. 10진수의 정규화로는 알기 어려웠던 부분이 2진수에서 정규화했을 때 더 잘 드러난다.
## 부동소수점의 2진수 표현
12.375를 2진수로 표현하려면, 정수부와 소수부를 따로 변환해야 한다.
정수부는 더이상 나누어지지 않을 때까지 2로 나눈 뒤 나머지 값을 역순으로 읽으면 된다.
실수부는 2를 곱한뒤, 정수부를 읽고 남은 소수부만 다시 2를 곱하여 0이 될때까지 반복하면 된다.
![[소수부_이진수_변환.png | 400]]
따라서 12.375를 이진수로 변환하면, $1100.011_{(2)}$이다.
이를 부동소수점으로 변환하여 정규화하려면 $1.xyz... \times 2^{n}$의 형태로 만들어야 한다.
1. 2진수에서 소수점을 맨 앞의 1 바로 뒤로 이동시킨다.
2. 소수점이 왼쪽으로 이동한 칸 수만큼이 지수가 된다.
따라서 $1.100011_{(2)} \times 2^{3}$이다.

가수부가 언제나 1로 시작하는 수가되어 가수부의 첫 번째 자리는 생략 가능하다. 또한 가수부와 지수부로 표현하기 때문에 더 많은 수를 표현할 수 있다.
# IEEE 754
IEEE에서 컴퓨터에서 부동소수점을 표현하는 법에 대한 표준은 다음과 같다.

| 타입                     | 부호  | 지수부 | 가수부 | 총 비트수 |
| ---------------------- | --- | --- | --- | ----- |
| half precision         | 1   | 5   | 10  | 16    |
| single precision       | 1   | 8   | 23  | 32    |
| double precision       | 1   | 11  | 52  | 64    |
| x86 extended precision | 1   | 15  | 64  | 80    |
| quad precision         | 1   | 15  | 112 | 128   |
많은 프로그래밍 언어에서 32비트 부동소수점은 float 또는 single 타입으로 표현된다.
64비트의 경우에는 double이라고 표현하는데 그 이유는, 위의 표에서 보듯이 64비트 부동 소수점 타입을 double precision으로 정의했기 때문이다.
single precision은 한국어로 단정밀도라 부르고, double precision은 단정밀도보다 정밀도가 2배 높아 배정밀도라고 부른다.

중요한 점은, **가수부 값이 클 수록 원래의 값을 더 많이 유지하여 정밀도가 높아진다**는 것이다.
예를 들어, 예를 들어, 123456.7890이라는 실수가 있고 표현할 수 가수부의 자릿수가 5라고 했을 때, 정규화를 거치게 되면 1.234567890 x 10의 5승이 되고 표현 가능한 자리수는 5밖에 안되기 때문에 결국 가수부는 1.2345까지만 남을 수 있다.
## 부동소수점의 반올림 모드
IEEE 754-2008에서는 잘려나가는 뒷부분을 처리하는 5가지 방법을 정의했다.
- **짝수로 반올림**
	- 반올림하려는 수의 소수부분이 정확히 0.5일 경우, 소수부분의 앞 자리 숫자가 짝수인 경우 가장 가까운 작은 정수로 반올림된다. 만약 앞자리 숫자가 홀수라면 가장 가까운 큰 정수로 반올림된다.
	    - 4.5를 반올림하면 4 (0.5이지만 앞 자리 숫자 4는 짝수)
	    - 5.5를 반올림하면 6 (0.5이지만 앞 자리 숫자가 홀수 5, 가까운 큰 정수로 반올림되어 6)
- **큰 절대값으로 반올림**
	- 반올림하려는 수의 소수부분이 정확히 0.5일 경우, 소수부분의 앞 자리 숫자에 관계없이 가장 가까운 정수 쪽으로 반올림된다. 즉, 0.5는 언제나 그보다 큰 정수 쪽으로 반올림된다.
	    - 4.5를 반올림하면 5 (0.5이지만 항상 큰 정수 쪽으로 반올림됨)
	    - 5.5를 반올림하면 6 (0.5이지만 항상 큰 정수 쪽으로 반올림됨)
- 올림
	- 반올림하려는 수가 양의 무한대에 가까워지는 경우에는 해당 양의 무한대 값을 반올림 결과로 사용한다.
	    - 3.2를 반올림하면 4 (가장 가까운 큰 정수)
	    - 5.7을 반올림하면 6 (가장 가까운 큰 정수)
- 버림
	- 반올림하려는 수가 음의 무한대에 가까워지는 경우에는 해당 음의 무한대 값을 반올림 결과로 사용한다.
	    - 3.7을 반올리하면 3 (가장 가까운 작은 정수)
	    - 2.8을 반올림하면 -3 (가장 가까운 작은 정수)
- 절삭