# REST(Representational State Transfer) API
- μ›”λ“ μ™€μ΄λ“ μ›Ή(WWW)μ²λΌ λ¶„μ‚° ν•μ΄νΌλ―Έλ””μ–΄ μ‹μ¤ν… μ•„ν‚¤ν…μ²μ ν• ν•μ‹
- μ£Όκ³ λ°›λ” μμ›μ— μ΄λ¦„μ„ κ·μ •ν•κ³  URIμ— λ…μ‹ν•΄ HTTPλ©”μ„λ“λ΅ ν•΄λ‹Ή μμ›μ μƒνƒλ¥Ό μ£Όκ³ λ°›λ” κ²ƒ
- REST APIλ” RESTμ•„ν‚¤ν…μ²λ¥Ό λ”°λ¥΄λ” μ‹μ¤ν…/μ• ν”λ¦¬μΌ€μ΄μ… μΈν„°νμ΄μ¤
# REST νΉμ§•
### μ λ‹νΌ μΈν„°νμ΄μ¤
- μΌκ΄€λ μΈν„°νμ΄μ¤
- ν”λ«νΌ λ° κΈ°μ μ— μΆ…μ†λμ§€ μ•κ³  νƒ€ μ–Έμ–΄, ν”λ«νΌ, κΈ°μ  λ“±κ³Ό νΈν™ν•΄ μ‚¬μ©ν•  μ μμ
### λ¬΄μƒνƒμ„±(stateless)
- μ„λ²„μ— μƒνƒ μ •λ³΄λ¥Ό λ”°λ΅ λ³΄κ΄€ν•κ±°λ‚ κ΄€λ¦¬ν•μ§€ μ•μ
- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν•΄ μ„Έμ…μ΄λ‚ μΏ ν‚¤μ •λ³΄λ¥Ό λ³„λ„λ΅ λ³΄κ΄€ν•μ§€ μ•μ•„ κ° μ”μ²­μ„ λ³„λ„λ΅ μ²λ¦¬ν•¨
- μ„λ²„κ°€ λ¶ν•„μ”ν• μ •λ³΄λ¥Ό κ΄€λ¦¬ν•μ§€ μ•μ•„ λΉ„μ¦λ‹μ¤ λ΅μ§μ μμ λ„κ°€ λ†’κ³  μ„¤κ³„κ°€ λ‹¨μν•¨
### μΊμ‹ κ°€λ¥μ„±
- HTTPν‘μ¤€μ„ κ·Έλ€λ΅ μ‚¬μ©ν•λ―€λ΅ HTTPμ μΊμ‹± κΈ°λ¥ μ μ©ν•  μ μμ
- μ‘λ‹µκ³Ό μ”μ²­μ΄ λ¨λ‘ μΊμ‹± κ°€λ¥ν•μ§€ Cacheable λ…μ‹ ν•„μ”ν•λ©° μΊμ‹± κ°€λ¥ν• κ²½μ° ν΄λΌμ΄μ–ΈνΈμ—μ„ μΊμ‹μ— μ €μ¥ν•΄λ‘κ³  κ°™μ€ μ”μ²­μ— λ€ν•΄μ„λ” ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό κ°€μ Έλ‹¤ μ‚¬μ©
- μ„λ²„μ νΈλμ­μ… λ¶€ν•κ°€ μ¤„μ–΄ ν¨μ¨μ μ΄λ©° μ‚¬μ©μ μ…μ¥μ—μ„ μ„±λ¥ κ°μ„ λ¨
### λ μ΄μ–΄ μ‹μ¤ν…
- REST μ„λ²„λ” λ„¤νΈμ›ν¬ μƒμ μ—¬λ¬ κ³„μΈµμΌλ΅ κµ¬μ„±λ  μ μμ§€λ§ μ„λ²„μ λ³µμ΅λ„μ™€ κ΄€κ³„μ—†μ΄ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ μ—°κ²°λλ” ν¬μΈνΈλ§ μ•λ©΄ λ¨
### ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ μ•„ν‚¤ν…μ²
- RESTμ„λ²„λ” API μ κ³µν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ‚¬μ©μ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•λ” κµ¬μ΅°λ΅ λ¶„λ¦¬ν•΄ μ„¤κ³„ β†’ μ„λ΅μ— λ€ν• μμ΅΄μ„± λ‚®μ¶°μ¤
# REST URI μ„¤κ³„ κ·μΉ™
- URIμ λ§μ§€λ§‰μ—λ” β€/β€™λ¥Ό ν¬ν•¨ν•μ§€ μ•μ
- λ¦¬μ†μ¤ μ΄λ¦„μ΄ κΈΈλ• λ°‘μ¤„(_) λ€μ‹  ν•μ΄ν”(-) μ‚¬μ©
- URLμ—λ” ν–‰μ„(λ™μ‚¬)κ°€ μ•„λ‹ κ²°κ³Ό(=μμ›, λ…μ‚¬)λ¥Ό ν¬ν•¨
- μμ›μ μΆ…λ¥κ°€ μ»¬λ ‰μ…μΈμ§€ λ„νλ¨ΌνΈμΈμ§€μ— λ”°λΌ λ‹¨μ, λ³µμλ¥Ό λ‚λ”
- ν–‰μ„λ” HTTPλ©”μ„λ“λ΅ ν‘ν„λμ•Όν•¨
- URIλ” μ†λ¬Έμλ΅ μ‘μ„±
- νμΌμ ν™•μ¥μλ” URIμ— ν¬ν•¨ν•μ§€ μ•μΌλ©° HTTPμ—μ„ μ κ³µν•λ” Accept ν—¤λ” μ‚¬μ©ν•κΈ°
---
# κΈ°λ¥ κµ¬ν„ μμ„
1. Service λ©”μ„λ“ μ‘μ„±
2. μ”μ²­μ— λ”°λΌ ν•„μ”ν• κ²½μ° μ—”ν‹°ν‹° ν΄λμ¤μ— λ©”μ„λ“ μ‘μ„±(UPDATE λ“±)
3. μ”μ²­μ— λ”°λΌ ν•„μ”ν• κ²½μ° DTOν΄λμ¤ μƒμ„± 
	- ν΄λΌμ΄μ–ΈνΈ μ”μ²­μΌλ΅λ¶€ν„° κ°’μ„ λ°›μ„λ•(CREATE, UPDATE) -> *xxxRequest.java*
	- μ‘λ‹µμΌλ΅ λ°μ΄ν„°λ² μ΄μ¤μ κ°’μ„ μ¤μ•Όν• λ•(READ) -> *xxxResponse.java*
4. Controller λ©”μ„λ“ μ‘μ„±
---

# @Builder
lombok annotation
μƒμ„±μ μ„μ— μ΄κ±Έ λ…μ‹ν•λ©΄ κ°μ²΄ μƒμ„± μ‹ λΉλ” ν¨ν„΄μ„ μ‚¬μ©ν•κΈ° μ„ν• μ½”λ“λ¥Ό μλ™ μƒμ„±ν•΄μ¤
```java
//λΉλ” ν¨ν„΄ μ‚¬μ©ν•μ§€ μ•μ„λ•
new Article("abc", "def");

//λΉλ” ν¨ν„΄μ„ μ‚¬μ©ν• λ•
public class Article {
	...
	@Builder
	public Article(String title, String content) {
		...
	}
}

Article.builder()
	.title("abc")
	.content("def")
	.build();
```
λΉλ” ν¨ν„΄μΌλ΅ κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄ μ–΄λ ν•„λ“μ— μ–΄λ–¤ κ°’μ΄ λ“¤μ–΄κ°€λ”μ§€ μ‰½κ² νμ•…ν•  μ μμ–΄ μ½”λ“μ κ°€λ…μ„±μ„ λ†’μ„
# @RequiredArgsConstructor
lombok annotation
finalμ΄λ‚ @NotNullμ΄ λ¶™μ€ ν•„λ“λ΅ μƒμ„±μλ¥Ό λ§λ“¤μ–΄μ¤
# ResponseEntityν΄λμ¤
`import org.springframework.http.ResponseEntity;`
???

# @RequestBody
spring annotation
HTTPμ”μ²­ μ‹ @RequestBodyκ°€ λ¶™μ€ κ°μ²΄μ— μ‘λ‹µ κ°’μ΄ λ§¤ν•‘λ¨
# ObjectMapperν΄λμ¤
```java
@Autowired  
protected ObjectMapper objectMapper;
```
μλ°” κ°μ²΄λ¥Ό JSONλ°μ΄ν„°λ΅ λ³€ν™ν•λ” μ§λ ¬ν™”(serialization) λλ” λ°λ€λ΅ JSONλ°μ΄ν„°λ¥Ό μλ°” κ°μ²΄λ΅ λ³€ν™ν•λ” μ—­μ§λ ¬ν™”(deserialization)ν• λ• μ‚¬μ©

# @PathVariable
`import org.springframework.web.bind.annotation.*;`
μ΄κ² λ¶™μ€ λ³€μλ” URLμ—μ„ { }μ— μλ” κ°’μ„ λ³€μμ— μ €μ¥ν•¨
# @Transactional
λ§¤μΉ­ν• λ©”μ„λ“λ¥Ό ν•λ‚μ νΈλμ­μ…μΌλ΅ λ¬¶λ” μ—­ν• 
```
π’΅νΈλμ­μ…μ€ λ°μ΄ν„°λ² μ΄μ¤μ λ°μ΄ν„°λ¥Ό λ°”κΎΈκΈ° μ„ν•΄ λ¬¶μ€ μ‘μ—… λ‹¨μ„
νΈλμ­μ…μΌλ΅ λ¬¶μ€ μ‘μ—…λ“¤μ€ ν• λ‹¨μ„λ΅ μ‹¤ν–‰λλ―€λ΅ μ¤‘κ°„μ— μ‹¤ν¨ν•λ©΄ νΈλμ­μ…μ μ²μ μƒνƒλ΅ λ¨λ‘ λλλ¦¬λ©΄ λ¨
```
