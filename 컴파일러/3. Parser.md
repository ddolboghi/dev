# Parser의 역할
- 파서는 일련의 토큰이 주어지면 해당 토큰을 문법의 터미널(terminal)에 매핑하여, 어떤 규칙으로 그런 문자열이 생성됐을지 알아내는 과정이다.
- 파서는 파싱을 하면서 문자열이 올바른 코드인지 알아내는 것뿐만 아니라, 문자열에서 규칙과 매치되는 부분을 추적함으로써 각 토큰이 언어의 어느 부분에 속하는지 파악한다.
# 표현식의 모호함 없애기
- 우선순위와 결합 법칙을 명확하게 정의하여 여러 연산자를 사용한 표현식의 모호함을 없앨 수 있다.
- 문법의 우선순위에 따라 규칙을 정의하여 표현식을 서브식으로 사용함으로써 발생하는 모호함을 없앨 수 있다.
- 어떤 파서 생성기는 우선순위를 문법 규칙에 넣는 대신, '모호하지만 단순한' 문법을 그대로 유지하되, 좀 더 명시적인 연산자 우선순위 메타데이터를 곁들여 모호함을 제거하기도 한다.
### 우선순위 규칙
| 우선순위 | 명칭         | 연산자               | 결합 법칙 |
| ---- | ---------- | ----------------- | ----- |
| 5    | equality   | `==` `!=`         | 좌측    |
| 4    | comparison | `>` `>=` `<` `<=` | 좌측    |
| 3    | term       | `-` `+`           | 좌측    |
| 2    | factor     | `/` `*`           | 좌측    |
| 1    | 단항         | `!` `-`           | 우측    |
### production 정의
**각 규칙은 해당 우선순위 이상의 표현식과 매치돼야 한다.**
```
expression → equality
equality → comparison ( ( "!=" | "==" ) comparison )*;
comparison → term ( ( ">" | ">=' | "<" | "<=" ) term )*;
term → factor ( ( "-" | "+" ) factor )*;
factor → unary ( ( "/" | "*" ) unary )*;
unary → ( "!" | "-" ) unary | primary;
primary → NUMBER | STRING | "true" | "false" | "nil" | "(" expression ")";
```
- equality는 우선순위가 가장 낮으므로 여기에 매치시키면 모든 표현식이 포함된다.
- 단항식은 단항 연산자로 시작하고 피연산자가 뒤에 오며, 중첩이 가능하다.